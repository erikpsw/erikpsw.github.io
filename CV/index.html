<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/psw.ico?v=5.1.2" />






<meta name="description" content="Shiwei Pan                            Homepage     About Me     Education     Awards     Work Experience     Projects     Skills      Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="BLOG">
<meta property="og:url" content="http://yoursite.com/CV/index.html">
<meta property="og:site_name" content="BLOG">
<meta property="og:description" content="Shiwei Pan                            Homepage     About Me     Education     Awards     Work Experience     Projects     Skills      Blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/CV/index/profile.jpg">
<meta property="article:published_time" content="2024-11-14T16:30:58.241Z">
<meta property="article:modified_time" content="2024-11-14T16:30:58.241Z">
<meta property="article:author" content="Shiwei Pan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/CV/index/profile.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/CV/"/>





  <title> | BLOG</title>
  














</head>

<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="/live2d-widget/autoload.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cv">
          <a href="/cv/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            CV
          </a>
        </li>
      
        
        <li class="menu-item menu-item-old">
          <a href="/old/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Old Posts
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

	<h1 class="post-title" itemprop="name headline"></h1>



</header>

      
      
      
      <div class="post-body">
        
        
          <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shiwei Pan</title>
    <link rel="icon" href="pic/psw.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js" defer></script>
    <script src="script.js" defer></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<nav id="start_box">
    <a class="nav" id="title" href="#">Homepage</a>
    <a class="nav sub_nav" id="profile_start" href="#about_me">About Me</a>
    <a class="nav sub_nav" id="education_start" href="#education">Education</a>
    <a class="nav sub_nav" id="awards_start" href="#award">Awards</a>
    <a class="nav sub_nav" id="work_experience_start" href="#work-title">Work Experience</a>
    <a class="nav sub_nav" id="profile_start" href="#project_title">Projects</a>
    <a class="nav sub_nav" id="skills_start" href="#Skills_title">Skills</a>

    <a class="nav" id="myblog" target="_blank" href="https://erikpsw.github.io/">Blog</a>

</nav>

<body class="body">
    <div class="main_col">
        <div id="profile">
            <img src="/CV/index/profile.jpg" id="mine" alt="Profile Picture">
            <br>
            <div>
                <h2 class="name" style="text-align: left;">Shiwei Pan</h2>
                <h2 class="chinese name" style="text-align: left;">潘世维</h2>
                <div style="height: 0.5em;"></div>
                <ul class="social_list" role="list">
                            
                    <li class="social_item">
                        <a class="glue-social__link" href="https://x.com/Erikpsw" title="X" target="_blank" rel="noopener">
                            <svg id="twitter" class="social_svg" style="color: black;" viewbox="0 0 24 24" fill="none">
                                <path xmlns="http://www.w3.org/2000/svg" d="M13.4882 10.7714L19.3135 4H17.9331L12.875 9.87954L8.83507 4H4.17554L10.2846 12.8909L4.17554 19.9918H5.55602L10.8975 13.7828L15.1639 19.9918H19.8235L13.4878 10.7714H13.4882ZM11.5974 12.9692L10.9784 12.0839L6.05343 5.03921H8.17378L12.1483 10.7245L12.7673 11.6098L17.9337 18.9998H15.8134L11.5974 12.9696V12.9692Z" fill="currentColor"/>
                                
                            </svg>
                        </a>
                    </li>
                    
                    <li class="social_item">
                        <a class="glue-social__link" href="https://www.linkedin.com/in/erik-pan-7b88a4190/" title="linkedin" target="_blank" rel="noopener">
                            <svg id="linkedin" class="social_svg" style="color: black;" viewbox="0 0 24 24" fill="none">
                                <path d="M20.5,2h-17C2.7,2,2,2.7,2,3.5v17C2,21.3,2.7,22,3.5,22h17c0.8,0,1.5-0.7,1.5-1.5v-17C22,2.7,21.3,2,20.5,2z M8,19H5V9.5h3 L8,19L8,19z M6.5,8.2c-1,0-1.7-0.7-1.7-1.7s0.8-1.7,1.7-1.7s1.7,0.7,1.7,1.7S7.4,8.2,6.5,8.2z M19,19h-3v-5.2c0-1.5-0.7-2-1.5-2 c-0.9,0-1.8,0.7-1.8,2.1V19h-3V9.5h2.9v1.3h0c0.3-0.6,1.3-1.6,2.9-1.6c1.7,0,3.5,1,3.5,3.9V19L19,19z" fill="currentColor"/>
                            </svg>
                        </a>
                    </li>
                    
                    <li class="social_item">
                        <a class="glue-social__link" href="https://github.com/erikpsw/erikpsw.github.io" title="github" target="_blank" rel="noopener">
                            <svg id="github" class="social_svg" style="color: black;" viewbox="0 0 24 24" fill="none">
                                <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" d="M11.964 0C5.348 0 0 5.388 0 12.053c0 5.328 3.427 9.838 8.181 11.434 0.594 0.12 0.812 -0.259 0.812 -0.578 0 -0.279 -0.02 -1.237 -0.02 -2.235 -3.328 0.719 -4.021 -1.437 -4.021 -1.437 -0.535 -1.397 -1.327 -1.756 -1.327 -1.756 -1.089 -0.738 0.079 -0.738 0.079 -0.738 1.208 0.08 1.842 1.237 1.842 1.237 1.069 1.836 2.793 1.317 3.486 0.998 0.099 -0.778 0.416 -1.317 0.753 -1.616 -2.654 -0.279 -5.447 -1.317 -5.447 -5.947 0 -1.317 0.475 -2.395 1.228 -3.233 -0.119 -0.299 -0.535 -1.537 0.119 -3.193 0 0 1.01 -0.319 3.288 1.237a11.503 11.503 0 0 1 2.991 -0.399c1.01 0 2.04 0.14 2.991 0.399 2.278 -1.557 3.288 -1.237 3.288 -1.237 0.654 1.656 0.238 2.894 0.119 3.193 0.773 0.838 1.228 1.916 1.228 3.233 0 4.63 -2.793 5.647 -5.467 5.947 0.436 0.379 0.812 1.097 0.812 2.235 0 1.616 -0.02 2.914 -0.02 3.312 0 0.319 0.218 0.699 0.812 0.579 4.754 -1.597 8.181 -6.107 8.181 -11.435C23.928 5.388 18.56 0 11.964 0z" fill="currentColor"/>
                            </svg>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <section id="cv_list">
            <div style="height: 80px;"></div>
            <div>
                <a class="sub_title" id="about_me">About Me</a>
                <p class="detail">I am a student at Tongji University in Shanghai, specializing in robot control, machine learning, and intelligent manufacturing. My research focuses on integrating robotics and manufacturing to create smarter, more efficient production systems. I am also passionate about leveraging intelligent technologies to optimize production management, making traditional manufacturing processes more intelligent and streamlined.</p>
            </div>
            <div>
                <a id="education" class="sub_title">Education</a>
                <ul>
                    <li class="detail">Tongji University &ensp;&ensp;2022.09-2026.06 <br>&ensp;&ensp; Undergraduate in Intelligent Manufacturing Engineering <br>&ensp;&ensp; GPA 4.59/5 </li>
                </ul>
            </div>
            <div>
                <a id="award" class="sub_title">Awards</a>
                <ul>
                    <li class="detail">Outstanding Student, awarded National Scholarship</li>
                    <li class="detail">Second Prize in Shanghai Undergraduate Mathematical Contest in Modeling</li>
                    <li class="detail">Bronze Award in The University Physics Competition</li>
                </ul>
            </div>

            <div>
                <a id="work-title" class="sub_title">Work Experience</a>
                <ul>
                    <li class="detail">Upwork (2023.10-Present) - <a href="https://www.upwork.com/freelancers/~0128fed3b66dbc8856?mp_source=share" target="_blank" rel="noopener" style="text-decoration: none; color: #1a73e8;">Top Rated Freelancer</a>
                        <ul>
                            <li>Conducted market research on the domestic humanoid robot industry for a Silicon Valley startup, contacted domestic manufacturers, compiled high-quality analytical reports, and supported the company’s strategic planning.</li>
                            <li>Scraped and processed large volumes of English movie and TV scripts, using Python to extract structured dialogue from PDFs, greatly enhancing the efficiency and accuracy of data processing through automation.</li>
                        </ul>
                    </li>
                    <li class="detail"><a href="https://www.sapien.io" target="_blank" rel="noopener" style="text-decoration: none; color: #1a73e8;">Sapien.io</a> (2023.12-2024.09) - Project Manager
                        <ul>
                            <li>Developed web scraping and real-time monitoring of personnel data using Selenium on the annotation platform, conducted data analysis and mining, intelligently allocated human resources based on project progress, and identified outlier annotators, optimizing HR management processes. Generated detailed project progress reports, resulting in a 20% improvement in team efficiency.</li>
                            <li>Reverse-engineered APIs to scrape data, implemented deduplication via hash values, and set up an OCR annotation platform using Label Studio. Leveraged Google Cloud's pre-recognition capabilities to significantly improve annotation efficiency, reducing project delivery time by 15%.</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div>
                <a class="sub_title" id="project_title">Projects</a>
                <ul>
                    <li class="detail">Tongji University Key Research Project—Intelligent Construction on the Lunar Surface
                        <ul>
                            <li>Built a simulation environment for a masonry robot using Nvidia Isaac Sim, enabling automated data synthesis and sensor simulation. Developed and optimized forward and inverse kinematics solvers and trajectory planning algorithms for a 4-DOF robotic arm, improving operation precision and efficiency.</li>
                            <li>Advised German exchange students on designing a differential drive car's MPC trajectory tracking controller, and conducted simulation testing using Mujoco, ensuring control algorithm stability and reliability in complex environments, pushing forward breakthroughs in key project technologies.</li>
                        </ul>
                    </li>
                    <li class="detail">Design of a Dual-Motor Power Coupling System for the Next-Generation Actuation System
                        <ul>
                            <li>Implemented closed-loop speed control and monitoring for motors using STM32 development board.</li>
                            <li>Designed and implemented a dynamic web application using Tabler.js, creating a real-time data control platform successfully applied in remote motor monitoring and digital twin systems via bus and serial ports.</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div>
                <a class="sub_title" id="Skills_title">Skills</a>
                <p class="detail">Data Scraping and Analytics, Machine Learning, Mechanical Engineering, Embedded Systems, Industrial Internet and Big Data, Python, SQL, Project Management, Cross-Cultural Communication</p>
            </div>
        </section>
    </div>
    <hr class="hline" id="line2">
    <p id="quote">Youth passes, but with luck immaturity can last a lifetime!</p>
</body>
</html>

        
      </div>
      
      
      
    </div>
    
    
    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/mount.png"
               alt="Shiwei Pan" />
          <p class="site-author-name" itemprop="name">Shiwei Pan</p>
           
              <p class="site-description motion-element" itemprop="description">Open your eyes,look up to the skies</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">95</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/erikpsw" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/pan-shi-wei-91" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      知乎
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#profile"><span class="nav-number">1.</span> <span class="nav-text">Shiwei Pan</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#profile"><span class="nav-number">2.</span> <span class="nav-text">潘世维</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2020 - 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shiwei Pan</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
