<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/psw.ico?v=5.1.2" />






<meta name="description" content="Open your eyes,look up to the skies">
<meta property="og:type" content="website">
<meta property="og:title" content="BLOG">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="BLOG">
<meta property="og:description" content="Open your eyes,look up to the skies">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shiwei Pan">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>BLOG</title>
  














<meta name="generator" content="Hexo 4.2.1"></head>

<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="/live2d-widget/autoload.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cv">
          <a href="/CV/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            CV
          </a>
        </li>
      
        
        <li class="menu-item menu-item-old">
          <a href="/old/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Old Posts
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/04/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/isaac%20sim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/04/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/isaac%20sim/" itemprop="url">大二/机器人/isaac sim</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-04-19T20:37:18+08:00">
                2024-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Api"><a href="#Api" class="headerlink" title="Api"></a>Api</h1><h3 id="World"><a href="#World" class="headerlink" title="World"></a>World</h3><p>World is the core class that enables you to interact with the simulator in an easy and modular way. It takes care of many time-related events such as adding callbacks, stepping physics, resetting the scene, adding tasks, etc. The World class is a Singleton which means ==only one World can exist== while running Omniverse Isaac Sim. Query the World for information about the simulation from different extensions.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> omni.isaac.examples.base_sample <span class="keyword">import</span> BaseSample <span class="comment">#boiler plate of a robotics extension application</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span><span class="params">(BaseSample)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># This function is called to setup the assets in the scene for the first time</span></span><br><span class="line">    <span class="comment"># Class variables should not be assigned here, since this function is not called</span></span><br><span class="line">    <span class="comment"># after a hot-reload, its only called to load the world starting from an EMPTY stage</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup_scene</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># A world is defined in the BaseSample, can be accessed everywhere EXCEPT __init__</span></span><br><span class="line">        world = self.get_world()</span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h3 id="Dynamic-Control"><a href="#Dynamic-Control" class="headerlink" title="Dynamic Control"></a>Dynamic Control</h3><p>The Dynamic Control extension is a set of utilities to control physics objects. It provides opaque handles for different physics objects that remain valid between PhysX scene resets, which occur whenever play or stop is pressed.</p>
<p>用于运动控制</p>
<h3 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h3><p>A world contains an instance of a Scene, think about it as a scene management class that manages the assets of interest in the USD stage. It provides an easy api to add, manipulate and inspect different USD assets in the stage as well as setting its default reset states. Many of the object classes available which could be added to a Scene usually takes an already existing USD prim in stage or creates a new USD prim, thus providing an easy way to set/ get its common properties.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">world.scene.add_default_ground_plane() <span class="comment"># adds a default ground plane to the scene</span></span><br></pre></td></tr></table></figure>
<h3 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h3><p>The Task class in <code>omni.isaac.core</code> provides a way to ==modularize== the scene creation, information retrieval, calculating metrics and creating more complex scenes with more involved logic.</p>
<p>GPU并行仿真</p>
<h4 id="BaseTask"><a href="#BaseTask" class="headerlink" title="BaseTask"></a>BaseTask</h4><p>This class provides a way to set up a task in a scene and modularize adding objects to stage, getting observations needed for the behavioral layer, calculating metrics needed about the task, calling certain things pre-stepping, creating multiple tasks at the same time and much more.</p>
<h3 id="Articulation"><a href="#Articulation" class="headerlink" title="Articulation"></a>Articulation</h3><p>一堆关节构成</p>
<p>An articulated robot is ==a robot with rotary joints== (e.g: a legged robot, a manipulator or a wheeled robot). In <code>omni.isaac.core</code> extension in Omniverse Isaac Sim there exists an Articulation class which enables the interaction with articulations that exists in a USD stage in an easy way.</p>
<blockquote>
<p>Robots are constructed of physically accurate articulated joints.</p>
</blockquote>
<h4 id="ArticulationView"><a href="#ArticulationView" class="headerlink" title="ArticulationView"></a>ArticulationView</h4><p>High-level wrapper to deal with prims (==one or many==) that have the Root Articulation API applied and their attributes/properties</p>
<p>This class wraps all matching articulations found at the regex provided at the <code>prim_paths_expr</code> argument</p>
<p>匹配多个</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/" itemprop="url">大二/机器人/逆运动学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-03-08T11:51:30+08:00">
                2024-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="逆运动学"><a href="#逆运动学" class="headerlink" title="逆运动学"></a>逆运动学</h1><p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308121931856.png" alt="image-20240308121931856"></p>
<script type="math/tex; mode=display">
\rm DOF=3\quad(\theta_1,\theta_2,\theta_3)</script><p>所以可以控制三个关节的转角来使得机械臂末端$X_4$运动到</p>
<script type="math/tex; mode=display">
(x,y,\alpha)</script><p>求解过程</p>
<script type="math/tex; mode=display">
\begin{cases}X_{3x}=X_{4x}-L_3\cos\alpha\\X_{3y}=X_{4y}-L_3\sin\alpha\end{cases}</script><p>利用余弦定理求解$\theta_1,\theta_2$</p>
<p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308122148220.png" alt="image-20240308122148220" style="zoom:33%;"></p>
<script type="math/tex; mode=display">
\theta_1=\beta\pm\gamma\\
\tan\beta=\frac{X_{3y}}{X_{3x}}</script><p>在三角形内使用余弦定理</p>
<script type="math/tex; mode=display">
\cos\theta_2=\frac{(X_{3y}^2+X_{3x}^2)-L_1^2-L_2^2}{2L_1L_2}\\
\cos\gamma=\frac{(X_{3y}^2+X_{3x}^2)+L_1^2-L_2^2}{2L_1\sqrt{X_{3y}^2+X_{3x}^2}}</script><p>所以</p>
<script type="math/tex; mode=display">
\theta_3=\alpha-\theta_2-\theta_2</script><p>由于自由度受限，故空间内机械臂规划只考虑</p>
<p>$\alpha=90^\circ$，即垂直抓取的情况，考虑俯视图</p>
<p>砖块处在相对$X_0$，$(x,y)$的位置，位姿为$\theta$</p>
<p>云台转角为$\theta_0$，夹爪的转角为$\theta_4$</p>
<p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308123949922.png" alt="image-20240308123949922" style="zoom: 25%;"></p>
<script type="math/tex; mode=display">
\sqrt{x^2+y^2}=X_{4x}\\
\tan\theta_0=\frac {x}{y}\\
\theta=\theta_0+\theta_4</script><p>通过这些方程可以求解出$\theta_0,\theta_1,\theta_2,\theta_3,\theta_4$</p>
<p>再通过$\theta_5$控制夹爪的张开与夹紧就可实现完整的抓取</p>
<h1 id="轨迹生成"><a href="#轨迹生成" class="headerlink" title="轨迹生成"></a>轨迹生成</h1><p>贝塞尔曲线具有良好的空间连续性,采用空间贝塞尔曲线的路径,不仅可有效增加空间曲线的平滑性并可通过更改控制点修改局部速度及加速度值,同时可通过控制点修改曲线形状,并且具有较高的计算效率。</p>
<p>Bernstein基函数</p>
<script type="math/tex; mode=display">
B_i^{(n)}(t)={n\choose i}t^i(1-t)^{n-i}</script><p>Bezier曲线的表达式</p>
<script type="math/tex; mode=display">
f(t)=\sum_{i=1}^nb_i(t)\boldsymbol{p}_i</script><p>在计算机图形学常用De Casteljau来对贝塞尔曲线进行求值</p>
<p>算法利用如下递归表达式来实现</p>
<script type="math/tex; mode=display">
\boldsymbol{b}_i^{(r)}=(1-t)\boldsymbol{b}_i^{(r-1)}+t\boldsymbol{b}_{i+1}^{(r-1)}</script><p>轨迹设计</p>
<p>由于我们需要将砖块一块一块砌筑，并且需要保证尽可能垂直向下放置砖块，从而能利用榫卯结构让两砖块之间能够贴合且不发生碰撞，所以为简单起见采用三个点作为控制顶点，分别是机械臂末端起点，终点，和终点正上方$d$处的控制点，利用贝塞尔曲线的端点性质，保证接近终点时速度一定垂直向下。</p>
<p>由于对于轨迹上的任意一点$(x,y,z,\alpha)$，我们需要确定$\alpha$的取值使得和机械臂的四个关节角度$(\theta_0,\theta_1,\theta_2,\theta_3)$一一对应从而求解，我们采用一种启发式的方式来设定$\alpha_t$，设当前进度为$t,t\in[0,1]$，则</p>
<script type="math/tex; mode=display">
\alpha_t=t\alpha_e+(1-t)\alpha_0</script><p>再利用搜索的方式找到离$\alpha_t$最近且使得逆运动学有解的$\alpha$，从而求解四个关节角度。</p>
<p>由于当关节角度$\theta=0$时，存在奇异点，末端执行器的一点微小变化会导致机械臂角度剧烈变化，产生震荡，所以在保证终点处不会存在角度为$0$后，我们可以对求解出角度小于某个设定阈值的部分不采用这段轨迹，并对关节角度利用线性插值的方式来生成新轨迹，使得轨迹更加稳定。</p>
<p>但由于局部突然用线性插值来替代，导致轨迹不够平滑，衔接处加速度过大，所以采用Savitzky-Golay滤波对新轨迹进行平滑，从而得到更加自然，加速度更小的轨迹</p>
<p>we need to lay bricks one by one and ensure that they are placed as vertically as possible to utilize the mortise and tenon structure to ensure that the bricks can fit together without colliding, three points are chosen as control vertices for simplicity. These points are the starting point of the robotic arm end effector, the endpoint, and a control point $d$ directly above the endpoint. Using the endpoint property of the Bézier curve, it ensures that the speed is strictly vertical as it approaches the endpoint.</p>
<p>For any point $(x, y, z, \alpha)$ on the trajectory, we need to determine the value of $\alpha$ so that it corresponds to the four joint angles $(\theta_0, \theta_1, \theta_2, \theta_3)$ of the robotic arm. We use a heuristic method to set $\alpha_t$. Let the current progress be $t, t \in [0, 1]$, then</p>
<script type="math/tex; mode=display">
\alpha_t=t\alpha_e+(1-t)\alpha_0</script><p>Then, by searching for the closest $\alpha$ to $\alpha_t$ that allows for solvable inverse kinematics, the four joint angles can be solved.</p>
<p>Since there are singular points when the joint angle $\theta = 0$, a slight change in the end effector will cause drastic changes in the angles of the robotic arm, resulting in oscillations. Therefore, after ensuring that there are no angles equal to $0$ at the endpoint, we can discard the portion of the trajectory where the angles are less than a certain threshold and use linear interpolation for the joint angles to generate a new trajectory, making the trajectory more stable.</p>
<p>However, abruptly replacing parts of the trajectory with linear interpolation makes it less smooth, with excessive acceleration at the junctions. Hence, we use Savitzky-Golay filtering to smooth the new trajectory, resulting in a more natural trajectory with lower acceleration.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/" itemprop="url">大二/机器学习/Transformer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-19T11:16:55+08:00">
                2024-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网络整体架构"><a href="#网络整体架构" class="headerlink" title="网络整体架构"></a>网络整体架构</h1><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119112445496.png" alt="image-20240119112445496"></p>
<h2 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h2><h3 id="注意力机制"><a href="#注意力机制" class="headerlink" title="注意力机制"></a>注意力机制</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119112615620.png" alt="image-20240119112615620"></p>
<script type="math/tex; mode=display">
\text{Attention(}Q,K,V)=\text{softmax}\left(\frac{QK^T}{\sqrt{d_k}}\right)V\\
Q(n\times d_k),K(m,d_k),V(m,d_v)</script><p>何为自注意力，就是输入为自己</p>
<p>利用$FC$层编码信息后</p>
<script type="math/tex; mode=display">
v^i=W^va^i\\
k^i=W^ka^i\\
q^i=W^qa^i</script><p>利用余弦相似度进行判断</p>
<p>利用$\text{softmax}$得到概率分布，最后得到输出</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119113118185.png" alt="image-20240119113118185"></p>
<p>输出为类似加权平均的形式，是$Q$的编码结果</p>
<p>其中$W$为权重矩阵，通过训练得出</p>
<h3 id="多头"><a href="#多头" class="headerlink" title="多头"></a>多头</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119113628698.png" alt="image-20240119113628698"></p>
<p>相关性也有不同的种类</p>
<p>利用$FC$将数据进行特征分离，并行$h$头</p>
<h3 id="位置编码"><a href="#位置编码" class="headerlink" title="位置编码"></a>位置编码</h3><p>为了学习序列的位置信息，使用位置向量$e^i$</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119120825747-1705639072346.png" alt="image-20240119120825747"></p>
<script type="math/tex; mode=display">
PE(pos,2i)=\sin(pos/10000^{2i/d_{\text{model}}})</script><p>手工设定，或者直接学习</p>
<h3 id="Layer-Norm"><a href="#Layer-Norm" class="headerlink" title="Layer Norm"></a>Layer Norm</h3><p>对不同的特征计算</p>
<script type="math/tex; mode=display">
x'_i=\frac{x_i-m}\sigma</script><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119122333051-1705639072346.png" alt="image-20240119122333051"></p>
<p>常常对最后一个维度进行，对多头即为</p>
<script type="math/tex; mode=display">
d_{\text{model}}/h</script><h3 id="残差连接"><a href="#残差连接" class="headerlink" title="残差连接"></a>残差连接</h3><script type="math/tex; mode=display">
x_{l+1}=x_l+F(x_l,W_l)</script><p>训练的过程中<strong>始终保留了原始信息</strong>，还增加了网络中获取的<strong>新知识</strong></p>
<p>$F(x_l,W_l)$为残差</p>
<p>由损失函数的梯度计算结果可知，网络在进行反向传播时，<strong>错误信号可以不经过任何中间权重矩阵变换直接传播到低层，一定程度上可以缓解梯度弥散(梯度消失)问题（即便中间层矩阵权重很小，梯度也基本不会消失）</strong></p>
<p>其中前馈层为</p>
<script type="math/tex; mode=display">
\text{FFN}(x)=\max(0,xW_1+b_1)W_2+b_2</script><p>这个前馈层的作用是引入非线性映射$(\rm ReLU)$，通过两个线性变换和激活函数，对输入进行复杂的非线性变换。这有助于模型学习更加复杂的函数关系。在 Transformer 模型中，每个位置都有独立的前馈层，这使得模型能够在不同位置学习不同的表示。</p>
<h2 id="decoder"><a href="#decoder" class="headerlink" title="decoder"></a>decoder</h2><p>将<strong>Encoder</strong>编码的信息进行解码转换</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119123351071-1705639072347.png" alt="image-20240119123351071"></p>
<p>输入用$\text{One Hot}$进行编码，向量大小为输出集的大小</p>
<h3 id="Masked自注意力"><a href="#Masked自注意力" class="headerlink" title="Masked自注意力"></a>Masked自注意力</h3><p>只把过去的output来作为$\text{keys,values}$</p>
<p>训练时每次把未来的输入$\rm Mask$一下</p>
<p>每次只query$t$时刻的输出，同时decoder放入$1\sim t$的输出</p>
<p>从而得到$t+1$时刻的输出</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119132440053.png" alt="image-20240119132440053" style="zoom:67%;"></p>
<h3 id="cross-attention"><a href="#cross-attention" class="headerlink" title="cross-attention"></a>cross-attention</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119140756520.png" alt="image-20240119140756520"></p>
<p>$K,V$来自Encoder而$Q$来自Decoder</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/" itemprop="url">大二/材料力学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-15T14:50:19+08:00">
                2024-01-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115145258900.png" alt="image-20240115145258900"></p>
<h2 id="应力应变"><a href="#应力应变" class="headerlink" title="应力应变"></a>应力应变</h2><script type="math/tex; mode=display">
\sigma=\frac F A\\
\varepsilon=\lim_{l\to 0}\frac{\Delta l
}l\\
\gamma=\lim_{l\to 0}\frac{\Delta \gamma
}\gamma</script><p>胡克定律</p>
<script type="math/tex; mode=display">
\sigma=E\varepsilon\\
\tau=G\gamma</script><p>关系，泊松比$\nu$</p>
<p>只在一个方向有线应变有横向变形效应</p>
<script type="math/tex; mode=display">
\sigma_y=-\nu\sigma_x\\G=\frac E{2(1+\nu)}</script><p> 广义胡克定律</p>
<script type="math/tex; mode=display">
\varepsilon_x=\frac1E[\sigma_x-\nu(\sigma_y+\sigma_z)]</script><p>特别的，对于平面应力状态，有</p>
<script type="math/tex; mode=display">
\varepsilon_\theta=\frac1E[\sigma_\theta-\nu\sigma_{(\theta\pm90^\circ)}]</script><h2 id="许用应力"><a href="#许用应力" class="headerlink" title="许用应力"></a>许用应力</h2><p>衡量材料力学性能的指标</p>
<script type="math/tex; mode=display">
[\sigma]=\begin{cases}\frac{\sigma_s}{n_s}或\frac{\sigma_{0.2}}{n_s}\quad 塑性\\
\frac{\sigma_{b}}{n_b}\quad 脆性\end{cases}</script><h1 id="剪切"><a href="#剪切" class="headerlink" title="剪切"></a>剪切</h1><h2 id="单剪"><a href="#单剪" class="headerlink" title="单剪"></a>单剪</h2><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151105462.png" alt="image-20240115151105462"></p>
<script type="math/tex; mode=display">
V=F</script><h2 id="双剪"><a href="#双剪" class="headerlink" title="双剪"></a>双剪</h2><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151531211.png" alt="image-20240115151531211"></p>
<p>同时存在挤压</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151752797.png" alt="image-20240115151752797"></p>
<p>计算切和压只需要判断力和面积</p>
<p>剪切：剪力对应接触面积</p>
<p>挤压：压力对应正交面积</p>
<h1 id="扭转"><a href="#扭转" class="headerlink" title="扭转"></a>扭转</h1><p>截面上的扭转</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115152232641.png" alt="image-20240115152232641"></p>
<p>切应力</p>
<script type="math/tex; mode=display">
\tau=\frac{T\rho}{I_p}</script><p> 其中$I_p$为截面的极惯性矩</p>
<p>对于圆</p>
<script type="math/tex; mode=display">
I_p=\frac{\pi D^4}{32}</script><p>空心</p>
<script type="math/tex; mode=display">
I_p=\frac{\pi D^4}{32}\left(1-\alpha^4\right)</script><p>对于半径处(表面)，截面系数为</p>
<script type="math/tex; mode=display">
W_p=\frac{I_p}{D/2}</script><p>单位长度扭转角</p>
<script type="math/tex; mode=display">
\frac{\text d\varphi}{\text d x}=\theta=\frac{T}{GI_p}</script><p>单位为弧度，要转角度，则</p>
<script type="math/tex; mode=display">
\varphi_{AB}=\frac{Tl_{AB}}{GI_p}\times\frac{180}\pi</script><h2 id="安全条件"><a href="#安全条件" class="headerlink" title="安全条件"></a>安全条件</h2><p>强度条件</p>
<script type="math/tex; mode=display">
\tau_{\max}=\frac{T}{W_{p}}\le[\tau]</script><p>刚度条件</p>
<script type="math/tex; mode=display">
\frac{T}{GI_p}\times\frac{180}\pi\le[\theta]</script><p>计算时画出扭矩图</p>
<h1 id="弯曲"><a href="#弯曲" class="headerlink" title="弯曲"></a>弯曲</h1><p>简支梁</p>
<p>两端分别为固定铰支座和活动铰支座</p>
<p>悬臂梁</p>
<p>一端为固定端一端为自由端</p>
<p>外伸梁</p>
<p>至少有一个铰支座不在梁端部</p>
<h2 id="剪力弯矩"><a href="#剪力弯矩" class="headerlink" title="剪力弯矩"></a>剪力弯矩</h2><p>利用力的平衡可以得到剪力和弯矩</p>
<p>同时注意剪力以顺时针为正</p>
<p>弯矩以凹为正，同时弯矩图画在拉的那一侧(朝下)</p>
<p>需要标明正负</p>
<script type="math/tex; mode=display">
\frac{\text dF_s}{\text d x}=q\\
\frac{\text dM}{\text d x}=F_s</script><h2 id="弯曲正应力"><a href="#弯曲正应力" class="headerlink" title="弯曲正应力"></a>弯曲正应力</h2><p>中性层为基准</p>
<script type="math/tex; mode=display">
\sigma=\frac{M_z y}{I_z}</script><p>正应力随高度呈线性变化，正比弯矩，反比于形心主惯性矩，两侧正应力一拉一压，总是同时存在</p>
<p>惯性矩计算</p>
<p>对矩形截面</p>
<script type="math/tex; mode=display">
I_z=\frac{bh^3}{12}</script><p>空心圆形</p>
<script type="math/tex; mode=display">
I_z=\frac{\pi D^4}{64}(1-\alpha^4)</script><p>同时利用对称性来计算</p>
<p>四矩式</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115160642130.png" alt="image-20240115160642130"></p>
<h2 id="切应力"><a href="#切应力" class="headerlink" title="切应力"></a>切应力</h2><script type="math/tex; mode=display">
\tau=\frac{F_sS_z^*(y)}{bI_z}</script><p>其中$S_z^*(y)$为静矩</p>
<script type="math/tex; mode=display">
S_z^*(y)=S_{y}y_c</script><p>利用形心来计算，$b$为厚度</p>
<p>掌握计算校核设计截面的方法，分析危险截面</p>
<h1 id="梁的变形"><a href="#梁的变形" class="headerlink" title="梁的变形"></a>梁的变形</h1><p>挠度$y$，为相对的位置变化</p>
<script type="math/tex; mode=display">
y'(x)=\tan\theta</script><p>则利用微分方程得到</p>
<script type="math/tex; mode=display">
EIy''=-M(x)</script><p>进行积分，带入边界条件尽可能早的确定常数</p>
<p>如固定端$\theta,y=0$，铰链左右转角相等  等等</p>
<p>利用叠加法首先将所有的载荷等效到一段</p>
<p>用相差一个刚体位移的方法进行计算</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240116150852591.png" alt="image-20240116150852591"></p>
<h1 id="应力状态分析"><a href="#应力状态分析" class="headerlink" title="应力状态分析"></a>应力状态分析</h1><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115162700013.png" alt="image-20240115162700013" style="zoom:50%;"></p>
<p>正应力以拉为正，压为负</p>
<p>切应力以外法线顺时针旋转</p>
<p>对任意角度，有</p>
<script type="math/tex; mode=display">
\sigma_\alpha=\frac{\sigma_x+\sigma_y}2+\frac{\sigma_x-\sigma_y}2\cos2\alpha-\tau_x\sin2\alpha\\
\tau_\alpha=\frac{\sigma_x-\sigma_y}2\sin2\alpha+\tau_x\cos2\alpha</script><p>则有</p>
<script type="math/tex; mode=display">
\sigma_{\theta+90^\circ}+\sigma_\theta=\sigma_x+\sigma_y</script><p>相互垂直截面上的正应力之和为常数</p>
<h2 id="主平面"><a href="#主平面" class="headerlink" title="主平面"></a>主平面</h2><script type="math/tex; mode=display">
\tan2\alpha_0=-\frac{2\tau_x}{\sigma_x-\sigma_y}</script><p> 可画出应力圆求解</p>
<script type="math/tex; mode=display">
(\sigma_x,\tau_x),(\sigma_y,\tau_y)</script><p>对于切应力极值，与主平面呈45度角，此时正应力为</p>
<script type="math/tex; mode=display">
\sigma_O=\frac{\sigma_x+\sigma_y}2\\
R=\sqrt{\left(\frac{\sigma_x-\sigma_y}2\right)^2+\tau_x^2}</script><p>对于空间应力，$\sigma_z\ne0,\tau_z=0$</p>
<p>所以$z$已经是主平面，求处另外两个主应力，画在一起</p>
<p>为三向应力圆</p>
<h2 id="强度理论"><a href="#强度理论" class="headerlink" title="强度理论"></a>强度理论</h2><p>主应力按照从大到小的顺序排列后</p>
<script type="math/tex; mode=display">
\sigma_1,\sigma_2,\sigma_3</script><p>四个强度理论</p>
<script type="math/tex; mode=display">
\sigma_{r1}=\sigma_1\\
\sigma_{r2}=\sigma_1-\nu(\sigma_2+\sigma_3)\\
\sigma_{r3}=\sigma_1-\sigma_3\\
\sigma_{\mathrm{r4}}=\sqrt{\frac{1}{2}[(\sigma_{1}-\sigma_{2})^{2}+(\sigma_{2}-\sigma_{3})^{2}+(\sigma_{3}-\sigma_{1})^{2}]}</script><p>还有莫尔强度理论</p>
<script type="math/tex; mode=display">
\sigma_{r3}=\sigma_1-\frac{[\sigma_t
]}{[\sigma_c]}\sigma_3</script><p>特别的，对于单向</p>
<script type="math/tex; mode=display">
\sigma_{\mathrm{r3}}=\sqrt{\sigma^2+4\tau^2}\\
\sigma_{\mathrm{r4}}=\sqrt{\sigma^2+3\tau^2}</script><p>更特别的</p>
<script type="math/tex; mode=display">
\sigma_{r3}=\frac{\sqrt{M^2+T^2}}{W_z}\\ \sigma_{r4}=\frac{\sqrt{M^2+0.75T^2}}{W_z}</script><p>切应力主要为扭矩产生，正应力主要为弯矩产生</p>
<h1 id="组合变形"><a href="#组合变形" class="headerlink" title="组合变形"></a>组合变形</h1><p>分别在$x,y$方向上画弯矩图</p>
<p>计算最大应力时，分解后叠加</p>
<script type="math/tex; mode=display">
\sigma_{\max}=\frac{M_{y\max}}{W_y}+\frac{M_{z\max}}{W_z}\le[\sigma]</script><p>注意$M_y$为$F_z$产生</p>
<p>同理挠度也叠加</p>
<script type="math/tex; mode=display">
f=\sqrt{f_x^2+f_y^2}</script><h2 id="偏心压缩"><a href="#偏心压缩" class="headerlink" title="偏心压缩"></a>偏心压缩</h2><p>将心的力$F_2$等效成</p>
<script type="math/tex; mode=display">
Fe+F</script><p>转换成一个正应力和弯矩</p>
<h1 id="压杆稳定性"><a href="#压杆稳定性" class="headerlink" title="压杆稳定性"></a>压杆稳定性</h1><p>对于不同支承条件，长度系数不同</p>
<p>如果两端铰支，都可以转动(角度任意变化)</p>
<p>或者两端固定另一端可以横向移动</p>
<script type="math/tex; mode=display">
\mu=1</script><p>若一端自由另一端固定</p>
<script type="math/tex; mode=display">
\mu=2</script><p>两端固定</p>
<script type="math/tex; mode=display">
\mu=0.5</script><p>一端固定，一端铰支</p>
<script type="math/tex; mode=display">
\mu=0.7</script><p>所以临界压力</p>
<script type="math/tex; mode=display">
F_{cr}=\frac{\pi^2EI}{(\mu l)^2}</script><p>引入柔度的概念</p>
<script type="math/tex; mode=display">
\lambda=\frac{\mu l}i</script><p>其中$i=\sqrt{\frac {I_z}{A}}$，截面对失稳弯曲时的中性轴的惯性半径</p>
<p>所以临界应力公式为</p>
<script type="math/tex; mode=display">
\sigma_{\mathrm{cr}}=\frac{\pi^2 E}{\lambda^2}\le \sigma_p</script><p>则柔度需要满足</p>
<script type="math/tex; mode=display">
\lambda\ge\sqrt{\frac{\pi^2E}{\sigma_p}}</script><p>对于铸铁$\rm Q235$</p>
<script type="math/tex; mode=display">
\lambda_p=100</script><p>对于中长杆，可以使用经验公式</p>
<script type="math/tex; mode=display">
\sigma_{\rm cr}=a_1-b_1\lambda</script><p>或者</p>
<script type="math/tex; mode=display">
\sigma_{\rm cr}=a_1-b_1\lambda^2</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%9B%B8%E4%BC%BC%E7%9F%A9%E9%98%B5%E4%BA%8C%E6%AC%A1%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%9B%B8%E4%BC%BC%E7%9F%A9%E9%98%B5%E4%BA%8C%E6%AC%A1%E5%9E%8B/" itemprop="url">大一/线性代数/相似矩阵二次型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-03T23:19:01+08:00">
                2024-01-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="相似矩阵"><a href="#相似矩阵" class="headerlink" title="相似矩阵"></a>相似矩阵</h1><h2 id="施密特正交化"><a href="#施密特正交化" class="headerlink" title="施密特正交化"></a>施密特正交化</h2><script type="math/tex; mode=display">
\beta_4=\alpha_4-\frac{(\beta_1,\alpha_4)}{(\beta_1,\beta_1)}\beta_1-\frac{(\beta_2,\alpha_4)}{(\beta_2,\beta_2)}\beta_2-\frac{(\beta_3,\alpha_4)}{(\beta_3,\beta_3)}\beta_3</script><p>将向量向其他基向量上进行投影并减去分量</p>
<p>最后再单位化即得到标准正交基</p>
<h2 id="特征值和向量"><a href="#特征值和向量" class="headerlink" title="特征值和向量"></a>特征值和向量</h2><script type="math/tex; mode=display">
Ax=\lambda x\\
|A-\lambda E|=0</script><p>求解行列式为零得到对应的特征方程，即可求出特征值再把特征值代入可求得特征向量</p>
<p>如果特征值各不相同则特征向量线性无关</p>
<p>若矩阵满足矩阵方程</p>
<script type="math/tex; mode=display">
f(A)=0</script><p>则它的特征向量也满足</p>
<script type="math/tex; mode=display">
f(\lambda)=0</script><p>同理</p>
<script type="math/tex; mode=display">
f(A)-kE\to f(\lambda)-k</script><h3 id="特殊"><a href="#特殊" class="headerlink" title="特殊"></a>特殊</h3><p>逆矩阵的特征值为倒数，特征向量一样</p>
<p>伴随矩阵特征向量也一样特征值为</p>
<script type="math/tex; mode=display">
Ax=\lambda x\\
\frac 1\lambda x=A^{-1}x\\
A^*x=\frac{|A|}{\lambda}x</script><h2 id="相似"><a href="#相似" class="headerlink" title="相似"></a>相似</h2><p>满足</p>
<script type="math/tex; mode=display">
P^{-1}AP=B</script><p>相似矩阵的特征多项式相同特征值也相同</p>
<p>若$A$为对角矩阵则</p>
<script type="math/tex; mode=display">
A=P^{-1}\Lambda P=\begin{bmatrix}\lambda_1&&&\\&\lambda_2&&\\&&...&\\&&&\lambda_n\end{bmatrix}</script><p>对称矩阵的特征值为实数，且一定可以对角化，任意两个不相等的特征值对应的特征向量一定正交</p>
<p>矩阵$P$可通过对特征向量组进行标准正交化得到</p>
<h2 id="重数"><a href="#重数" class="headerlink" title="重数"></a>重数</h2><p>代数重数为$(\lambda-\lambda_i)^m$，几何重数为<strong>特征向量生成线性空间的维数</strong></p>
<p>几何重数$\le$代数重数</p>
<script type="math/tex; mode=display">
1\le n-R(A-\lambda E)\le m</script><p>可对角化则代数重数等于几何重数，即矩阵$P$满秩，特征向量足够</p>
<h1 id="二次型"><a href="#二次型" class="headerlink" title="二次型"></a>二次型</h1><script type="math/tex; mode=display">
f(x_1,\cdots,x_n)=a_{11}x_1^2+\cdots+2a_{12}x_1x_2+\cdots</script><p>化为对称矩阵来表示</p>
<script type="math/tex; mode=display">
\left.X=\left(\begin{array}{c}x_{1}\\x_{2}\\\vdots\\x_{n}\end{array}\right.\right),A=\begin{pmatrix}a_{11}&a_{12}&\cdots&a_{1n}\\a_{21}&a_{22}&\cdots&a_{2n}\\&\cdots&\cdots&\\a_{n1}&a_{n2}&\cdots&a_{nn}\end{pmatrix},a_{ij}=a_{ji},</script><p>可逆变换</p>
<script type="math/tex; mode=display">
x=Cy</script><script type="math/tex; mode=display">
f=x^TAx=y^T(C^TAC)y</script><p>则如果有可逆矩阵，使得</p>
<script type="math/tex; mode=display">
B=C^TAC</script><p>则合同</p>
<h2 id="标准型"><a href="#标准型" class="headerlink" title="标准型"></a>标准型</h2><p>只有平方项</p>
<script type="math/tex; mode=display">
f=\lambda_1y_1^2+\cdots+\lambda_ny_n^2</script><p>正交变化则和化对角一样</p>
<script type="math/tex; mode=display">
P^T=P^{-1}</script><h2 id="正定"><a href="#正定" class="headerlink" title="正定"></a>正定</h2><p>实对称矩阵$AB=BA=(AB)^T$才讨论正定</p>
<p>二次型恒大于0，<strong>正特征值的个数</strong>就是正惯性指数，则正定为</p>
<ul>
<li>正惯性指数$p=n$</li>
<li>n个$\lambda&gt;0$</li>
<li>A合同与$E\quad(f=y^Ty)$</li>
</ul>
<h3 id="推论"><a href="#推论" class="headerlink" title="推论"></a>推论</h3><p>看$\lambda$正负</p>
<p>$A+B$正定，$BAB$正定，$A^{-1},A^*,A^m,kA$正定</p>
<p>若$AB=BA$则</p>
<script type="math/tex; mode=display">
AB,BA正定</script><h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>只有对称矩阵，相似一定合同(因为正交相似)</p>
<p>对称矩阵可对角化，代数重数=几何重数则可对角化</p>
<p>等价$\Leftrightarrow$秩相等</p>
<p>$A\Leftrightarrow B$则对应的齐次线性方程组同解</p>
<p>$R(A)=R(AA^T)$</p>
<p>像空间的维数用矩阵表示的秩$r$来算</p>
<p>核空间的维数$n-r$</p>
<p>秩一矩阵，各行成比例，则$A=\alpha\beta^T$</p>
<p>则唯一非零秩为$\text{tr}(A)=\beta^T\alpha$</p>
<p>可对角化则$\beta^T\alpha\ne0$</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/" itemprop="url">大一/线性代数/线性方程组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-03T21:51:48+08:00">
                2024-01-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="线性方程组"><a href="#线性方程组" class="headerlink" title="线性方程组"></a>线性方程组</h1><p>含有$n$个未知量$m$个方程的线性方程组定义为</p>
<script type="math/tex; mode=display">
\left.\left\{\begin{aligned}a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n&=b_1\\a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n&=b_2\\\vdots\\a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n&=b_m\end{aligned}\right.\right.</script><p>可以写成</p>
<script type="math/tex; mode=display">
x_1\vec a_1+x_2\vec a_2+\cdots+x_n\vec a_n=\vec b</script><p>若$\vec b=\vec 0$则为齐次线性方程组</p>
<h2 id="初等行变换"><a href="#初等行变换" class="headerlink" title="初等行变换"></a>初等行变换</h2><ul>
<li>$r_i\leftrightarrow r_j$</li>
<li>$kr_i$</li>
<li>$r_i+kr_j$</li>
</ul>
<h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><p>行等价，则存在可逆矩阵$P$</p>
<script type="math/tex; mode=display">
PA=P(\alpha_1,\cdots,\alpha_n)=B</script><p>列等价</p>
<script type="math/tex; mode=display">
AQ=B</script><p>等价，则</p>
<script type="math/tex; mode=display">
PAQ=B</script><p>可逆的充要条件为</p>
<p>$A\sim E$</p>
<h2 id="增广矩阵"><a href="#增广矩阵" class="headerlink" title="增广矩阵"></a>增广矩阵</h2><script type="math/tex; mode=display">
[A|b]=\left.\left[\begin{array}{cccc|c}a_{11}&a_{12}&\cdots&a_{1n}&b_{1}\\a_{21}&a_{22}&\cdots&a_{2n}&b_{2}\\\vdots&\vdots&&\vdots&\vdots\\a_{m1}&a_{m2}&\cdots&a_{mn}&b_{m}\end{array}\right.\right]</script><p>利用初等行变换化为阶梯型$[E|x]$</p>
<p>则方程组的解为</p>
<script type="math/tex; mode=display">
x=A^{-1}b</script><h2 id="克拉默法则"><a href="#克拉默法则" class="headerlink" title="克拉默法则"></a>克拉默法则</h2><p>$A_j$是把系数矩阵$A$中的第$j$列元素用方程组右端常数项代替后得到的$n$阶矩阵</p>
<p>则唯一解</p>
<script type="math/tex; mode=display">
x_j=\frac{|A_j|}{|A|}=\frac{1}{|A|}(b_1A_{1j}+\cdots+b_nA_{nj})</script><h2 id="矩阵的秩"><a href="#矩阵的秩" class="headerlink" title="矩阵的秩"></a>矩阵的秩</h2><p>最高阶非零子式的阶数，又因为初等变换不改变秩</p>
<p>所以秩使用化阶梯型的方式计算</p>
<script type="math/tex; mode=display">
x_1\vec a_1+x_2\vec a_2+\cdots+x_n\vec a_n=\vec b</script><p>则方程组有解可以看成</p>
<script type="math/tex; mode=display">
R(A|b)=R(A)</script><p>加入$b$不改变列空间的维数</p>
<p>列空间和行空间的维数都是$R(A)$，列向量组和行向量组的秩都是$R$</p>
<p>若矩阵列$C$独立则</p>
<ul>
<li>$Cx=0$只有零解，0的表示唯一</li>
<li>若$\beta_1,\cdot\cdot\cdot,\beta_s\in F^{(n)}$ ，线性无关,则 $C\beta_1,\cdot\cdot\cdot,C\beta_s$ 线性无关</li>
<li>$C$ 有左逆：(即有矩阵 X 使 $XC=I)$</li>
<li>$C T x=b$ 总有解</li>
</ul>
<p>列满秩则有解一定唯一</p>
<p>行满秩则必定有解，$|A|\ne 0,Ax=0$，则只有零解</p>
<h3 id="不等式"><a href="#不等式" class="headerlink" title="不等式"></a>不等式</h3><script type="math/tex; mode=display">
\mathrm{rank(AB)}\leq \min\left\{\mathrm{rank(A)},\mathrm{rank(B)}\right\}</script><script type="math/tex; mode=display">
\mathrm{rank(A+B)\leq rank(A)+rank(B)}</script><script type="math/tex; mode=display">
\left.\mathrm{rank}(\mathrm{A}^*)=\left\{\begin{aligned}n.&&\mathrm{rank}(\mathrm{A})&=n\\1.&&\mathrm{rank}(\mathrm{A})&=n-1\\0.&&\mathrm{rank}(\mathrm{A})&<n-1\end{aligned}\right.\right.</script><script type="math/tex; mode=display">
R(AB)+n\ge R(A)+R(B)\quad\text{(Sylvester)}</script><h2 id="线性相关"><a href="#线性相关" class="headerlink" title="线性相关"></a>线性相关</h2><script type="math/tex; mode=display">
k_1\vec a_1+k_2\vec a_2+\cdots+k_n\vec a_n=0</script><p>其中$k$至少一个不为$0$</p>
<p>注意其中一个向量为零向量的情况</p>
<h3 id="最大线性无关组"><a href="#最大线性无关组" class="headerlink" title="最大线性无关组"></a>最大线性无关组</h3><ul>
<li>该向量组本身线性无关</li>
<li>任取一个矩阵中的其他向量, 与该向量组合并, 都会变成线性相关的向量组</li>
</ul>
<p>换成行阶梯型看主元列，其他为自由变量</p>
<p>从而最大线性无关组向量数目$r=R(\alpha_1\cdots \alpha_n)$</p>
<p>对于线性方程组</p>
<p>无解，则$b$不在$A$列空间内</p>
<script type="math/tex; mode=display">
R(A)<R(A,b)</script><p>小于空间维数则有无穷多解</p>
<script type="math/tex; mode=display">
R(A)=R(A,b)<n</script><p>向量组等价</p>
<script type="math/tex; mode=display">
R(A)=R(B)=R(A,B)</script><h2 id="解的结构"><a href="#解的结构" class="headerlink" title="解的结构"></a>解的结构</h2><p>齐次线性方程组解满足线性性质</p>
<p>则非齐次通解为</p>
<script type="math/tex; mode=display">
x=k_1\xi_1+\cdots+k_n\xi_n+x_0</script><p>一个特解加通解，而通解由基础解系来表达，基础解系的维数等于零空间的维数</p>
<script type="math/tex; mode=display">
R(\xi_1,\cdots,\xi_n)=n-r</script><p>齐次线性方程组同解则零空间等价，$A\sim B$</p>
<h2 id="向量空间"><a href="#向量空间" class="headerlink" title="向量空间"></a>向量空间</h2><h3 id="线性变换"><a href="#线性变换" class="headerlink" title="线性变换"></a>线性变换</h3><p>满足线性性质</p>
<script type="math/tex; mode=display">
T(\lambda_1 x_1+\lambda_2 x_2)=\lambda_1 T(x_1)+\lambda_2 T(x_2)</script><h3 id="转换坐标"><a href="#转换坐标" class="headerlink" title="转换坐标"></a>转换坐标</h3><script type="math/tex; mode=display">
B=(b_1,\cdots,b_n),A=(a_1,\cdots,a_n)\\
B=AP\\
Py=x</script><p>其中$y$为向量在$B$下的坐标</p>
<p>同理线性变化也可以用矩阵$A$表示（在$\alpha$基下）</p>
<p>对于不同基</p>
<script type="math/tex; mode=display">
T(\alpha_1,\alpha_2,\cdots,\alpha_n)=(\alpha_1,\alpha_2,\cdots,\alpha_n)A</script><p>则坐标</p>
<script type="math/tex; mode=display">
T(\sum_{i=1}^nx_i\alpha_i)=T(\alpha_1,\alpha_2,\cdots,\alpha_n)\left(\begin{array}l x_1\\x_2\\\vdots\\x_n\\\end{array}\right)</script><p>矩阵$A$也可以直接把$T(\alpha_i)$用$(\alpha_1,\alpha_2,\cdots,\alpha_n)$表示写成列向量即可</p>
<p>若同一个线性变换在不同基下分别表示为$A,B$，变换矩阵为$P$，则有</p>
<script type="math/tex; mode=display">
B=P^{-1}AP</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/11/15/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%95%B0%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/11/15/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%95%B0%E5%AD%A6/" itemprop="url">大二/机器人/数学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-11-15T09:49:28+08:00">
                2023-11-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="四元数"><a href="#四元数" class="headerlink" title="四元数"></a>四元数</h1><script type="math/tex; mode=display">
\left.\mathbf{q}=\left[\begin{array}{cccc}q_0&&q_1&&q_2&&q_3\end{array}\right.\right]^T</script><p>定义$\psi$, $\theta$, $\phi$分别为绕Z轴、Y轴、X轴的旋转角度</p>
<p>称为欧拉角</p>
<script type="math/tex; mode=display">
\left.\left[\begin{array}{c}\phi\\\theta\\\psi\end{array}\right.\right]=\left[\begin{array}{c}\arctan\frac{2(q_0q_1+q_2q_3)}{1-2(q_1^2+q_2^2)}\\\arcsin(2(q_0q_2-q_3q_1))\\\arctan\frac{2(q_0q_3+q_1q_2)}{1-2(q_2^2+q_3^2)}\end{array}\right]</script><p>欧拉角转四元数</p>
<script type="math/tex; mode=display">
\begin{cases}z=\sin\left(\frac\theta2\right)\\
w=\cos\left(\frac\theta2\right)\end{cases}</script><script type="math/tex; mode=display">
\mathbf{q}=\begin{bmatrix}\cos\frac \theta2\\\mathbf{u}\mathrm{sin}\frac \theta2\end{bmatrix},\mathbf{u}=\begin{bmatrix}
 1\\0
 \\0

\end{bmatrix}</script><p>四元数旋转公式</p>
<script type="math/tex; mode=display">
\mathbf{v}^{\prime}=\mathbf{qvq}^{*}</script><p>复合性质</p>
<script type="math/tex; mode=display">
\begin{array}{b}\mathbf{v}^{\prime\prime}&=\mathbf{q}_{2}\left(\mathbf{q}_{1}\mathbf{v}\mathbf{q}_{1}^{*}\right)\mathbf{q}_{2}{}^{*}\\
&=\left(\mathbf{q}_2\mathbf{q}_1\right)\mathbf{v}\left(\mathbf{q}_2\mathbf{q}_1\right)^*\end{array}</script><script type="math/tex; mode=display">
\mathbf{q}_{\mathrm{d}}=\Delta\mathbf{q}\cdot\mathbf{q}_{\mathrm{s}}\\
\mathbf{q}_\mathrm{d}\cdot\left(\mathbf{q}_\mathrm{s}\right)^{-1}=\Delta\mathbf{q}\cdot\mathbf{q}_\mathrm{s}\cdot\left(\mathbf{q}_\mathrm{s}\right)^{-1}\\\Delta\mathbf{q}=\mathbf{q}_\mathrm{d}\cdot\left(\mathbf{q}_\mathrm{s}\right)^{-1}</script><h1 id="DH"><a href="#DH" class="headerlink" title="DH"></a>DH</h1><script type="math/tex; mode=display">
_{i-1}\mathbf{T}_i=\mathbf{D}_{z_i-1},_{d_i}\mathbf{R}_{z_i-1},_{\theta_i}\mathbf{D}_{x_i-1},_{a_i}\mathbf{R}_{x_i-1},_{\alpha_i}=\begin{pmatrix}\cos\theta_i&-\sin\theta_i\cos\alpha_i&\sin\theta_i\sin\alpha_i&a_i\cos\theta_i\\\sin\theta_i&\cos\theta_i\cos\alpha_i&-\cos\theta_i\sin\alpha_i&a_i\sin\theta_i\\0&\sin\alpha_i&\cos a_i&d_i\\0&0&0&1\end{pmatrix}</script><script type="math/tex; mode=display">
\begin{array}{cccc}
\text{Joint} & \theta & d & a & \alpha \\
\hline
1 & 0 & 0.156 & 0 & \frac{\pi}{2} \\
2 & \frac{\pi}{2} & 0 & 0.0815 & 0 \\
3 & 0 & 0 & 0.127 & 0 \\
4 & 0 & 0 & 0.1075 & 0 \\
5 & 0 & 0 & 0.074 & -\frac{\pi}{2} \\
6 & 0 & 0.05 & 0 & 0 \\
\end{array}</script><h2 id="5dof"><a href="#5dof" class="headerlink" title="5dof"></a>5dof</h2><script type="math/tex; mode=display">
\begin{array}{cccc}
\text{Joint} & \theta & d & a & \alpha \\
\hline
0 & \theta_0 & 0 & 0 & \frac{\pi}{2} \\
1 & \theta_1 & 0 & L_1 & 0 \\
2 & \theta_2 & 0 & L_2 & 0 \\
3 & \theta_3 & 0 & L_3 & 0 \\
4 & \theta_4 & 0 & 0 & \frac{\pi}{2} \\
\end{array}</script><h1 id="3dof机械臂"><a href="#3dof机械臂" class="headerlink" title="3dof机械臂"></a>3dof机械臂</h1><p><img src="/2023/11/15/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E6%95%B0%E5%AD%A6/image-20231118102420171.png" alt="image-20231118102420171" style="zoom:67%;"></p>
<script type="math/tex; mode=display">
\begin{align*}
B_x &= x - L_3\cos(\gamma) \\
B_y &= y - L_3\sin(\gamma) \\
\beta &= \cos^{-1}\left(\frac{B_x^2 + B_y^2 + L_1^2 - L_2^2}{2L_1\sqrt{B_x^2 + B_y^2}}\right) \ \\
\alpha &= \operatorname{atan2}(B_y, B_x)\\
\theta_1&=\alpha\pm\beta\\
\gamma&= \theta_1 + \theta_2 +\theta_3
\end{align*}</script><h2 id="雅可比矩阵"><a href="#雅可比矩阵" class="headerlink" title="雅可比矩阵"></a>雅可比矩阵</h2><script type="math/tex; mode=display">
J_i=\begin{bmatrix}\hat z\times \vec d[:2]\\1\end{bmatrix}\\
\begin{bmatrix}v_x\\v_y\\ \omega\end{bmatrix}=J\begin{bmatrix}\dot q_1\\\dot q_2\\ \dot q_3\end{bmatrix}</script><script type="math/tex; mode=display">
\begin{bmatrix}\text d  q_1\\\text d q_2\\ \text d q_3\end{bmatrix}=J^{-1}\begin{bmatrix}\text dv_x\\\text dv_y\\ \text d\omega\end{bmatrix}</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/06/14/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E8%BF%91%E4%BB%A3%E7%89%A9%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/06/14/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E8%BF%91%E4%BB%A3%E7%89%A9%E7%90%86/" itemprop="url">大一/物理/近代物理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-06-14T22:27:30+08:00">
                2023-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="黑体辐射"><a href="#黑体辐射" class="headerlink" title="黑体辐射"></a>黑体辐射</h1><p><img src="/2023/06/14/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E8%BF%91%E4%BB%A3%E7%89%A9%E7%90%86/image-20230614223608909.png" alt="image-20230614223608909"></p>
<p>黑体辐射的两个结论</p>
<script type="math/tex; mode=display">
M(T)=\sigma T^4\\
\lambda_mT=b</script><h2 id="量子化假设"><a href="#量子化假设" class="headerlink" title="量子化假设"></a>量子化假设</h2><p>利用量子化假设可以很好地解决黑体辐射问题</p>
<script type="math/tex; mode=display">
\varepsilon_n=nh\nu</script><p>其中$n$称为量子数，$\varepsilon$称为能量子</p>
<h1 id="光电效应"><a href="#光电效应" class="headerlink" title="光电效应"></a>光电效应</h1><p>见高中</p>
<h1 id="康普顿效应"><a href="#康普顿效应" class="headerlink" title="康普顿效应"></a>康普顿效应</h1><p>单个光子与自由电子碰撞，从而得到光子波长改变</p>
<script type="math/tex; mode=display">
\Delta\lambda=\lambda-\lambda_0=\frac{h}{m_0c}(1-\cos\theta)</script><p>其中康普顿波长为</p>
<script type="math/tex; mode=display">
\frac{h}{m_0c}=\lambda_C</script><p>因为核质量太大散射光中存在等于波长等于入射光波长的成分</p>
<p>所以康普顿散射对原子质量小的物质比较明显</p>
<h1 id="波尔氢原子模型"><a href="#波尔氢原子模型" class="headerlink" title="波尔氢原子模型"></a>波尔氢原子模型</h1><p>三个假设</p>
<p>定态，原子中的电子在特定轨道半径才稳定</p>
<p>当电子从一个轨道向另一个轨道跃迁时会吸收或放出光子</p>
<p>最后角动量量子化</p>
<script type="math/tex; mode=display">
L=m_evr=n\frac{L}{2\pi}</script><p>得到如下结果</p>
<script type="math/tex; mode=display">
r_n=r_1n^2</script><p>同时由动能表达式</p>
<script type="math/tex; mode=display">
E_k=\frac{e^2}{8\pi\varepsilon_0r_n}\\
E_p=-\frac{e^2}{4\pi\varepsilon_0r_n}\\
E_n=-\frac{e^2}{8\pi\varepsilon_0r_n}=\frac{E_1}{n^2}</script><h1 id="不确定性关系"><a href="#不确定性关系" class="headerlink" title="不确定性关系"></a>不确定性关系</h1><script type="math/tex; mode=display">
\Delta p\Delta x\ge \frac\hbar2 \\
\Delta E\Delta t\ge \frac\hbar2</script><h1 id="波函数"><a href="#波函数" class="headerlink" title="波函数"></a>波函数</h1><script type="math/tex; mode=display">
\int|\Psi |^2\text dx=1</script><p>其中$|\Psi |^2$为概率</p>
<h2 id="一维无限深势阱"><a href="#一维无限深势阱" class="headerlink" title="一维无限深势阱"></a>一维无限深势阱</h2><script type="math/tex; mode=display">
V(x)=\begin{cases}0\quad(0<x<a)\\
\infty\quad (x\le0,x\ge a)\end{cases}</script><p>得到</p>
<script type="math/tex; mode=display">
\psi(x)=\sqrt{\frac2a}\sin\left(\frac{n\pi}{a}x\right)</script><p>故</p>
<script type="math/tex; mode=display">
\psi^2(x)=\frac2a\sin^2\left(\frac{n\pi}{a}x\right)</script><h2 id="一维势垒"><a href="#一维势垒" class="headerlink" title="一维势垒"></a>一维势垒</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/06/03/%E5%A4%A7%E4%B8%80/%E7%90%86%E8%AE%BA%E5%8A%9B%E5%AD%A6/%E6%8B%89%E6%9C%97%E8%B4%9D%E5%B0%94%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/06/03/%E5%A4%A7%E4%B8%80/%E7%90%86%E8%AE%BA%E5%8A%9B%E5%AD%A6/%E6%8B%89%E6%9C%97%E8%B4%9D%E5%B0%94%E5%8E%9F%E7%90%86/" itemprop="url">大一/理论力学/拉朗贝尔原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-06-03T16:57:25+08:00">
                2023-06-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="动量矩"><a href="#动量矩" class="headerlink" title="动量矩"></a>动量矩</h1><p>转动惯量参见大学物理</p>
<p>对质心的动量矩全部取用相对物理量</p>
<script type="math/tex; mode=display">
L_C=\sum r_i'\times m_iv_{ir}</script><p>从而对于任意固定点，带入绝对速度</p>
<script type="math/tex; mode=display">
L_O=\sum r_i\times m_iv_i=r_C\times mv_C+L_C</script><p>表示对任意$O$的动量矩等于质心平移加上相对质心的动量矩</p>
<h2 id="定理"><a href="#定理" class="headerlink" title="定理"></a>定理</h2><p>类比动量定理有动量矩定理</p>
<script type="math/tex; mode=display">
\frac{\text dL_C}{\text dt}=\sum M_C(F_i^{(e)})</script><p>右式为质点系外力对质心的主矩</p>
<p>从而可得刚体平面微分方程</p>
<script type="math/tex; mode=display">
\begin{cases}ma_{Cx}=\sum F_x\\
ma_{Cy}=\sum F_y\\ J_C\alpha=\sum M_C(F_i^{(e)})\end{cases}</script><h1 id="达朗贝尔原理"><a href="#达朗贝尔原理" class="headerlink" title="达朗贝尔原理"></a>达朗贝尔原理</h1><p>对于单个质点</p>
<script type="math/tex; mode=display">
F+F_{内}+F_{I}=0</script><p>其中惯性力$\vec F_I=-m\vec a$</p>
<p>对于质点系，有</p>
<script type="math/tex; mode=display">
\begin{cases}\sum F+F_I=0\\
M_O(F+\sum F_    {Ii})=0\end{cases}</script><p>从而对于定轴转动，有如下简化</p>
<p>若为绕质心，则有</p>
<script type="math/tex; mode=display">
M_O=-J_C\alpha</script><p>若为一定点，则有</p>
<script type="math/tex; mode=display">
M_O=-(J_C+md^2)\alpha</script><p>而对于平动，如果简化中心为质心</p>
<script type="math/tex; mode=display">
M_{IC}=0</script><p>否则为</p>
<script type="math/tex; mode=display">
-mr_C\times a_C</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/" itemprop="url">大一/物理/波动光学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-05-18T22:32:32+08:00">
                2023-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="杨氏双缝干涉"><a href="#杨氏双缝干涉" class="headerlink" title="杨氏双缝干涉"></a>杨氏双缝干涉</h1><h2 id="发光"><a href="#发光" class="headerlink" title="发光"></a>发光</h2><p>原子在能级之间跃迁时会发出一列有限长度的光波称为光波列</p>
<script type="math/tex; mode=display">
l=c\Delta t</script><p>普通光源由于跃迁的随机性所以不满足干涉条件</p>
<p>现代技术可以实现相干光的产生，能产生的光源称为相干光源‘</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230518235646004.png" alt="image-20230518235646004"></p>
<p>干涉极大和极小的条件分别为</p>
<script type="math/tex; mode=display">
\delta=r_2-r_1=\pm k\lambda/\pm(2k-1)\frac\lambda2</script><p>利用几何关系 ,可得亮纹位置</p>
<script type="math/tex; mode=display">
x=\pm k\frac{D\lambda}d</script><p>暗纹位置</p>
<script type="math/tex; mode=display">
x=\pm (2k-1)\frac{D\lambda}d</script><p>从而得到相邻两明或暗纹的间距为</p>
<script type="math/tex; mode=display">
\Delta x=\frac{D\lambda}d</script><h3 id="光程"><a href="#光程" class="headerlink" title="光程"></a>光程</h3><p>由于光在不同介质中传播的速度不同，有光程$nr$</p>
<script type="math/tex; mode=display">
\delta=n_1r_1-n_2r_2</script><p>注意薄透镜不会引起附加的光程差</p>
<h1 id="薄膜干涉"><a href="#薄膜干涉" class="headerlink" title="薄膜干涉"></a>薄膜干涉</h1><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230518235708139.png" alt="image-20230518235708139" style="zoom:50%;"></p>
<p>薄膜，两波的光程差不是很大，两束光出自同一波列</p>
<script type="math/tex; mode=display">
\delta=n_2(AB+BC)-n_1 CD</script><p>借助折射定律和几何关系</p>
<script type="math/tex; mode=display">
\begin{array}{l}\delta&=2d\sqrt{n_2^2-n_1^2\sin^2i}\\
&=2dn_2\cos r\end{array}</script><p>增反膜和增透膜</p>
<h1 id="等厚干涉"><a href="#等厚干涉" class="headerlink" title="等厚干涉"></a>等厚干涉</h1><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230518235932636.png" alt="image-20230518235932636" style="zoom:50%;"></p>
<p>通过劈尖可以将长度转为高度</p>
<script type="math/tex; mode=display">
\Delta d=d_{k+1}-d_k=\frac\lambda{2n}</script><p>则条纹间距为</p>
<script type="math/tex; mode=display">
l=\frac\lambda{2n\sin\theta}\approx\frac\lambda{2n\theta}</script><p>利用这种可以检测厚度等微小物理量</p>
<h1 id="牛顿环"><a href="#牛顿环" class="headerlink" title="牛顿环"></a>牛顿环</h1><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230519000702872.png" alt="image-20230519000702872"></p>
<p>明纹</p>
<script type="math/tex; mode=display">
r=\sqrt{(2k-1)\frac{R\lambda}{2n}}</script><p>暗纹</p>
<script type="math/tex; mode=display">
r=\sqrt{\frac{kR\lambda}n}</script><h1 id="迈克尔逊干涉仪"><a href="#迈克尔逊干涉仪" class="headerlink" title="迈克尔逊干涉仪"></a>迈克尔逊干涉仪</h1><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230519001349294.png" alt="image-20230519001349294"></p>
<p>利用等效原理，可以把$M_1,M_2’$看成两个面</p>
<p>则若有夹角称为等厚干涉，平行称为等倾干涉</p>
<p>若为空气则调整间距可以得到</p>
<script type="math/tex; mode=display">
d=N\frac\lambda2</script><h1 id="衍射"><a href="#衍射" class="headerlink" title="衍射"></a>衍射</h1><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230522091516879.png" alt="image-20230522091516879" style="zoom:50%;"></p>
<p>单缝夫琅禾夫衍射，使用菲涅尔半波带法</p>
<script type="math/tex; mode=display">
a \sin \varphi=\left\{\begin{array}{l} 
\pm k \lambda, k=1,2,3, \ldots \\
\pm(2 k+1) \frac{\lambda}{2}, k=1,2,3, \ldots
\end{array}\right.</script><p>注意不能带入$\lambda=0$，没有相消</p>
<script type="math/tex; mode=display">
-\lambda<a\sin\varphi<\lambda</script><p>这个范围对应中央明纹，不能分析非整数倍</p>
<script type="math/tex; mode=display">
l_0\approx2\frac{\lambda}b</script><p>暗纹精确成立，明纹近似成立亮度$(\frac{1}{N-1})$</p>
<h2 id="多缝"><a href="#多缝" class="headerlink" title="多缝"></a>多缝</h2><p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230522091332974.png" alt="image-20230522091332974" style="zoom:33%;"></p>
<p>光栅方程</p>
<script type="math/tex; mode=display">
d\sin\varphi=k\lambda\\
|\sin\varphi|<1\\
(a+b)\sin\varphi=k\lambda  \;(k=0,\pm1,\cdots,\pm\left \lfloor  \frac{a+b}\lambda\right \rfloor )\\</script><p>用来计算主极大条纹的位置</p>
<h3 id="缺级"><a href="#缺级" class="headerlink" title="缺级"></a>缺级</h3><script type="math/tex; mode=display">
(a+b)\sin\varphi=k\lambda\\
a\sin\varphi=k'\lambda</script><p>$\pm k,\pm k’$都为整数</p>
<p><img src="/2023/05/18/%E5%A4%A7%E4%B8%80/%E7%89%A9%E7%90%86/%E6%B3%A2%E5%8A%A8%E5%85%89%E5%AD%A6/image-20230522093021386.png" alt="image-20230522093021386"></p>
<p>$N$条光栅，有$N-1$条暗纹，$N-2$条次极大</p>
<p>设$a$为第一明纹和中心之间的距离，$x_2-x_1$为光屏到光栅之间的距离，则由光栅方程</p>
<script type="math/tex; mode=display">
d\sin\varphi=\lambda\\
\tan\varphi=\frac{a}{x_2-x_1}\\
d=\lambda\sqrt{a^2+(x_2-x_1)^2}</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/mount.png"
               alt="Shiwei Pan" />
          <p class="site-author-name" itemprop="name">Shiwei Pan</p>
           
              <p class="site-description motion-element" itemprop="description">Open your eyes,look up to the skies</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">95</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/erikpsw" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/pan-shi-wei-91" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      知乎
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2020 - 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shiwei Pan</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
