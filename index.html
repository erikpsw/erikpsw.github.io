<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/psw.ico?v=5.1.2" />






<meta name="description" content="Open your eyes,look up to the skies">
<meta property="og:type" content="website">
<meta property="og:title" content="BLOG">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="BLOG">
<meta property="og:description" content="Open your eyes,look up to the skies">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shiwei Pan">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>BLOG</title>
  














<meta name="generator" content="Hexo 4.2.1"></head>

<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script src="/live2d-widget/autoload.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cv">
          <a href="/CV/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            CV
          </a>
        </li>
      
        
        <li class="menu-item menu-item-old">
          <a href="/old/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Old Posts
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/12/09/%E5%A4%A7%E4%B8%89/%E4%BC%A0%E7%83%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/12/09/%E5%A4%A7%E4%B8%89/%E4%BC%A0%E7%83%AD/" itemprop="url">大三/传热</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-12-09T21:33:45+08:00">
                2024-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h2 id="傅里叶定律"><a href="#傅里叶定律" class="headerlink" title="傅里叶定律"></a>傅里叶定律</h2><script type="math/tex; mode=display">
q=-\lambda\text{grad} t=-\lambda\frac{\partial t}
{\partial n}n</script><p>导热热流密度的大小与温度梯度的绝对值成正比其方向与温度梯度的方向相反</p>
<p>从而可以导出热导率</p>
<script type="math/tex; mode=display">
\lambda=\frac{q}{|\text{grad}t |}</script><h2 id="导热微分方程"><a href="#导热微分方程" class="headerlink" title="导热微分方程"></a>导热微分方程</h2><p>假设热导率为常数</p>
<script type="math/tex; mode=display">
{\partial t\over \partial \tau} =
\frac\lambda{\rho c}\left({\partial^2 u\over \partial x^2 } +
{\partial^2 u\over \partial y^2 } +
{\partial^2 u\over \partial z^2 }\right)+\frac{\dot{\Phi}}{\rho c}</script><p>$\Phi$为内热源强度，定义热扩散率，也称导温系数</p>
<script type="math/tex; mode=display">
a=\frac\lambda{\rho c}</script><h2 id="边界条件"><a href="#边界条件" class="headerlink" title="边界条件"></a>边界条件</h2><h3 id="第一类"><a href="#第一类" class="headerlink" title="第一类"></a>第一类</h3><p>边界温度为常数，为恒壁温边界条件</p>
<script type="math/tex; mode=display">
t_w=\text{Const}</script><h3 id="第二类"><a href="#第二类" class="headerlink" title="第二类"></a>第二类</h3><p>给定法线方向的温度变化率，为恒热流边界条件</p>
<script type="math/tex; mode=display">
\frac{\partial t}
{\partial n}=-\frac{q_w}{\lambda}</script><p> 若$q_w=0$则为绝热条件</p>
<h3 id="第三类"><a href="#第三类" class="headerlink" title="第三类"></a>第三类</h3><p>给出传热系数$h$和温度$t_f$，由牛顿冷却定律和傅里叶定律，可得对流边界条件</p>
<script type="math/tex; mode=display">
-\lambda\frac{\partial t}
{\partial n}=h(t_w-t_f)</script><h1 id="热电比拟"><a href="#热电比拟" class="headerlink" title="热电比拟"></a>热电比拟</h1><h2 id="热阻"><a href="#热阻" class="headerlink" title="热阻"></a>热阻</h2><p>平壁一维导热热阻</p>
<script type="math/tex; mode=display">
R_\lambda=\frac{\delta}{A\lambda}</script><p>对流换热热阻</p>
<script type="math/tex; mode=display">
R_{\text{rad}}=\frac1{hA}</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/12/09/%E5%A4%A7%E4%B8%89/%E4%BC%A0%E7%83%AD%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/12/09/%E5%A4%A7%E4%B8%89/%E4%BC%A0%E7%83%AD%E5%AD%A6/" itemprop="url">大三/传热学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-12-09T21:32:38+08:00">
                2024-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/" itemprop="url">大三/控制系统分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-11-18T19:16:16+08:00">
                2024-11-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="时域分析"><a href="#时域分析" class="headerlink" title="时域分析"></a>时域分析</h1><h2 id="时域瞬态响应"><a href="#时域瞬态响应" class="headerlink" title="时域瞬态响应"></a>时域瞬态响应</h2><p>时间响应，在数学上就是系统动力学方程的解</p>
<h3 id="一阶系统"><a href="#一阶系统" class="headerlink" title="一阶系统"></a>一阶系统</h3><p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/20200823215451.png" alt="20200823215451" style="zoom: 50%;"></p>
<p>$t_s$为调整时间$3T\to 95\%,4T\to98\%$</p>
<p>一阶系统在阶跃输入下达到稳态的 $(1-\Delta)$ 时所用的时间 （ $\Delta$ 为容许误差）</p>
<p>$t_s$ 反应系统的快速性，T越大，调整时间越大，响应速度越慢</p>
<h3 id="二阶系统"><a href="#二阶系统" class="headerlink" title="二阶系统"></a>二阶系统</h3><p>对 $G(s)=\frac{\omega_n^2}{s^2+2\xi\omega_n s+\omega_n^2}$ 来说：</p>
<p>特征方程：${s^2+2\xi\omega_n s+\omega_n^2}$</p>
<p>特征根：$s=\xi\omega_n\pm\omega_n\sqrt{1-\xi^2}$</p>
<ul>
<li>$\omega_n$ 为无阻尼固有频率，令 $\omega_d=\omega_n\sqrt{1-\xi^2}$ ，称为有阻尼固有频率</li>
<li>$\xi=0$ ，系统为无阻尼系统，等幅振荡</li>
<li>$0&lt;\xi&lt;1$ ，系统为欠阻尼系统，振荡收敛</li>
<li>$\xi=1$，系统为临界阻尼系统，不振荡收敛</li>
<li>$\xi&gt;1$ ，系统为过阻尼系统，不振荡收敛</li>
</ul>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241118195142799.png" alt="image-20241118195142799" style="zoom: 33%;"></p>
<ul>
<li><p>上升时间$t_r$ ：系统第一次到达稳态的时间</p>
</li>
<li><p>峰值时间$t_p$：系统第一次到达峰值的时间</p>
</li>
<li><p>最大超调量$M_p$：(峰值 - 稳态)/峰值%</p>
</li>
<li><p>调整时间$t_s$，当 $0&lt;\xi&lt;0.7$ 时</p>
</li>
</ul>
<blockquote>
<ul>
<li>$\xi$ 主要与震荡性（稳定性）正相关，$\omega_n$ 主要与快速性正相关。</li>
<li>系统的响应速度往往与震荡性能之间是矛盾的</li>
</ul>
</blockquote>
<h2 id="稳态响应"><a href="#稳态响应" class="headerlink" title="稳态响应"></a>稳态响应</h2><p>对于一阶惯性系统，输入正弦信号$\sin(\omega t)$</p>
<script type="math/tex; mode=display">
U_o(s)=\frac1{Ts+1}\frac{\omega}{s^2+\omega^2}</script><p>分解</p>
<script type="math/tex; mode=display">
U_o(s)=\frac{T^2\omega}{1+T^2\omega^2}\frac1{Ts+1}+\frac1{Tj\omega+1}\frac{\omega}{s^2+\omega^2}</script><p>根据时移特性拉氏反变换，得到</p>
<script type="math/tex; mode=display">
u_o(t)=\frac{T\omega}{1+T^2\omega^2}e^{-\frac tT}+\frac1{\sqrt{(\omega T)^2+1}}\sin(\omega t-\arctan(\omega T))</script><p>所以稳态之后的信号也为正弦，幅值和相位的求法是把$s=j\omega$带入传递函数</p>
<script type="math/tex; mode=display">
G(j\omega)=U(\omega)+jV(\omega)</script><p>从而有时频特性和相频特性</p>
<script type="math/tex; mode=display">
\begin{cases}A(\omega)=\sqrt{[U(\omega)]^2+[V(\omega)]^2}\\
\phi(\omega)=\arctan\left[\frac{V(\omega)}{U(\omega)}\right]\end{cases}</script><h1 id="频域分析"><a href="#频域分析" class="headerlink" title="频域分析"></a>频域分析</h1><h2 id="乃氏图"><a href="#乃氏图" class="headerlink" title="乃氏图"></a>乃氏图</h2><p>根据上面的每个$\omega$的幅值和相位可以确定一个点，绘制纵$0\to \infty$的曲线即为奈奎斯特图。</p>
<h3 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h3><p>用极限的方法</p>
<script type="math/tex; mode=display">
\omega\to+\infty,G(j\omega)=0\angle-90^\circ</script><p>或者复数相乘，模相乘辐角相加原理，用常见的叠加得到</p>
<h2 id="伯德图"><a href="#伯德图" class="headerlink" title="伯德图"></a>伯德图</h2><p>即对数坐标图，纵坐标取对数，横坐标采用10倍频程比值缩放$\text{(dec)}$</p>
<p>（坐标轴仍任显示原值，只是计算斜率时使用）</p>
<script type="math/tex; mode=display">
n(\text{dB})=20\lg N\\
\omega'=\lg \omega</script><p>斜率</p>
<script type="math/tex; mode=display">
[-40]=40\text{dB/dec}=\frac{L-0}{\lg5-\lg1}</script><h3 id="绘制-1"><a href="#绘制-1" class="headerlink" title="绘制"></a>绘制</h3><p>可以直接用斜率近似计算，也可以利用</p>
<script type="math/tex; mode=display">
\left|\frac{j\omega\tau+1}{j\omega T+1}\right|=\frac{\sqrt{(\omega\tau)^2+1}}{\sqrt{(\omega T)^2+1}}</script><p>直接计算关键点</p>
<h2 id="常见的环节"><a href="#常见的环节" class="headerlink" title="常见的环节"></a>常见的环节</h2><h3 id="比例环节"><a href="#比例环节" class="headerlink" title="比例环节"></a>比例环节</h3><p>比例环节的频率特性是与频率无关的常数，在奈奎斯特图上表现为实轴上一个点，在伯德图中表现为与频率无关的两条直线</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211251772.png" alt="image-20241123211251772" style="zoom: 33%;"></p>
<h3 id="积分环节"><a href="#积分环节" class="headerlink" title="积分环节"></a>积分环节</h3><p>积分环节的输出量是其输入量对时间的积分。奈奎斯特图是虚轴上从负无穷到原点的一条直线，相角恒为$-90^\circ$。对数幅频特性是一条$[-20]$斜率的直线，相角保持$-90^\circ$不变。</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211346676.png" alt="image-20241123211346676" style="zoom:33%;"></p>
<h3 id="微分环节"><a href="#微分环节" class="headerlink" title="微分环节"></a>微分环节</h3><p>微分环节的输出量是其输入量对时间的微分。奈奎斯特图是虚轴上从原点到正无穷的一条直线，相角恒为90°。对数幅频特性是一条$[+20]$斜率的直线，相角保持90°不变。</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211433925.png" alt="image-20241123211433925" style="zoom:33%;"></p>
<h3 id="惯性环节"><a href="#惯性环节" class="headerlink" title="惯性环节"></a>惯性环节</h3><p>惯性环节的奈奎斯特图是一个半圆（数学上可证明）。在伯德图中，转折频率之后的对数幅频特性为一条$[-20]$斜率的直线（近似，实际上在转折频率处衰减了3dB）。相角变化从0°到-90°。</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211507853.png" alt="image-20241123211507853" style="zoom:33%;"></p>
<h3 id="一阶微分环节"><a href="#一阶微分环节" class="headerlink" title="一阶微分环节"></a>一阶微分环节</h3><p>一阶微分环节的输出量取决于其输入量及一阶微分。它的奈奎斯特图相当于微分环节的图像向右平移了一个单位。它的对数频率特性与惯性环节相差一个负号，所以它们的对数频率特性关于横轴对称。</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211539775.png" alt="image-20241123211539775" style="zoom:33%;"></p>
<h3 id="振荡环节"><a href="#振荡环节" class="headerlink" title="振荡环节"></a>振荡环节</h3><p>振荡环节的图像应该是由不同阻尼比的情况下组成的一簇曲线，它们的奈奎斯特图起于实轴1处的点，终于原点。转折频率后的模值以40dB的速度衰减。相角从0°变化到-180°。</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123211610067.png" alt="image-20241123211610067" style="zoom:33%;"></p>
<h1 id="稳定性分析"><a href="#稳定性分析" class="headerlink" title="稳定性分析"></a>稳定性分析</h1><p>控制系统在任何足够小的初始偏移下，过渡过程随着时间的推移逐渐衰减为0，则为稳定系统</p>
<p>对典型系统求单位脉冲响应，对得到的时域表达式进行分析得到</p>
<p>闭环传递函数的极点全部都在$s$平面的左半平面</p>
<h2 id="代数稳定判据"><a href="#代数稳定判据" class="headerlink" title="代数稳定判据"></a>代数稳定判据</h2><p>根据根与系数的关系，可以得到劳斯阵列</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241123212217936.png" alt="image-20241123212217936" style="zoom:33%;"></p>
<p>其中有递推公式</p>
<script type="math/tex; mode=display">
b_1=\frac{a_{n-1}a_{n-2}-a_na_{n-3}}{a_{n-1}}\\
b_2=\frac{a_{n-1}a_{n-4}-a_na_{n-5}}{a_{n-1}}</script><p>若计算得到的第一列全为正数则稳定，否则符号变化几次就有几个根在左半平面</p>
<p>对于三阶多项式，可以得到</p>
<script type="math/tex; mode=display">
\begin{cases}a_i>0\\ a_1a_2>a_0a_3\end{cases}</script><h2 id="奈奎斯特判据"><a href="#奈奎斯特判据" class="headerlink" title="奈奎斯特判据"></a>奈奎斯特判据</h2><p>开环传递函数$G(s)H(s)$从$-\infty j\to \infty j$包围$(-1,j0)$点的圈数</p>
<p>$G(s)H(s)$是实系数有理分式函数，由于对称性，一般只绘制$0\to \infty j$的图线</p>
<h3 id="R-P-Z"><a href="#R-P-Z" class="headerlink" title="R=P-Z"></a>R=P-Z</h3><p>辐角原理，参考</p>
<blockquote>
<p><a href="https://blog.csdn.net/weixin_46664967/article/details/113208585" target="_blank" rel="noopener">https://blog.csdn.net/weixin_46664967/article/details/113208585</a></p>
</blockquote>
<p>$F(s)$绕平面原点的圈数只和$F(s)$被闭合曲线$ Γ$（取成整个右半平面） 包围$F(s)$的零点和极点的代数和有关</p>
<script type="math/tex; mode=display">
R=P−Z</script><p>R：R等于$ΓGH $逆时针<strong>包围F(s)平面上点 </strong>$(-1 , j0)$的圈数<br>P：开环传递函数在右半平面内的<strong>极点</strong>数，<strong>P是已知的</strong><br>Z：闭环传递函数在右半平面内的<strong>极点</strong>数，<strong>若Z = 0 系统稳定</strong></p>
<p>通过平移即可得到</p>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><p>作出开环系统的奈奎斯特曲线</p>
<p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E6%9E%90/image-20241130163622571.png" alt="image-20241130163622571" style="zoom:33%;"></p>
<p>若不完整需要补圆</p>
<p>若有$(1/s)^v$项，则以奈奎斯特曲线的起始位置为起点，<strong>逆时针画 $v\times 90°$ 半径无穷大</strong>的圆弧，但该圆弧的方向为<strong>顺时针</strong></p>
<script type="math/tex; mode=display">
R=2(N_+−N_−)</script><p>在 (-1,j0) 左侧 正穿越 的次数 <strong>(从上往下)</strong> ，N-为￥左侧 负穿越的次数 <strong>(从下往上)</strong></p>
<p><strong>R</strong> 表示开环系统 G(s)H(s) 逆时针绕点(-1,j0)的圈数，等价于1+G(s)H(s) 顺时针绕原点的圈数</p>
<p><strong>N+</strong> 表示点 (-1,j0) 左侧正穿越的次数（从上向下穿越）</p>
<p><strong>N-</strong> 表示 点 (-1,j0) 左侧负穿越的次数（从下向上穿越）</p>
<p>只看左侧</p>
<p>P为开环传递函数在右半平面极点数</p>
<h1 id="误差分析"><a href="#误差分析" class="headerlink" title="误差分析"></a>误差分析</h1><p>理想输出和实际输出量之差为误差$e(t)$，象函数为$E(s)$，误差信号的稳态分量（静态误差），记作$e_{\text{ss}}$</p>
<p>输入信号和反馈信号比较后的信号$\varepsilon (t)$称为偏差</p>
<script type="math/tex; mode=display">
E(s)=\mu(s)X_i(s)-X_o(s)\\
\varepsilon(s)=X_i(s)-Y(s)</script><p>考虑偏差趋近于0，理想输出传递回来偏差为0，故</p>
<script type="math/tex; mode=display">
Y(s)=H(s)X_o(s)\\
\mu(s)=\frac1{H(s)}</script><p>故</p>
<script type="math/tex; mode=display">
\varepsilon(s)=H(s)E(s)</script><h2 id="输入引起的稳态分析"><a href="#输入引起的稳态分析" class="headerlink" title="输入引起的稳态分析"></a>输入引起的稳态分析</h2><p>对于单位反馈系统，误差等于偏差</p>
<script type="math/tex; mode=display">
X_o(s)=\frac{G(s)}{1+G(s)}X_i(s)\\
E(s)=X_i(s)-X_o(s)=\frac1{1+G(s)}X_i(s)</script><p>所以误差传递函数为</p>
<script type="math/tex; mode=display">
\frac{E(s)}{X_i(s)}=\frac1{1+G(s)}</script><p>根据终值定理</p>
<script type="math/tex; mode=display">
e_{\text{ss}}=\lim_{s\to 0}sE(s)=\lim_{s\to 0} s\frac1{1+G(s)}X_i(s)</script><p>对于非单位反馈系统</p>
<script type="math/tex; mode=display">
\varepsilon(s)=\frac1{1+G(s)H(s)}X_i(s)</script><p>稳态偏差为</p>
<script type="math/tex; mode=display">
\varepsilon_{\text{ss}}=\lim_{s\to 0}s\frac1{1+G(s)H(s)}X_i(s)\\
e_{\text{ss}}=\lim_{s\to 0}s\frac1{H(s)}\frac1{1+G(s)H(s)}X_i(s)</script><p>一般$H(s)$为常数，故</p>
<script type="math/tex; mode=display">
e_{\text{ss}}=\frac{\varepsilon_{\text{ss}}}{H}</script><h2 id="静态误差系数"><a href="#静态误差系数" class="headerlink" title="静态误差系数"></a>静态误差系数</h2><p>对于单位阶跃响应</p>
<script type="math/tex; mode=display">
X_i(s)=\frac1s</script><p>稳态偏差为</p>
<script type="math/tex; mode=display">
\varepsilon_{\text{ss}}=\lim_{s\to 0}s\frac1{1+G(s)H(s)}\frac1s=\lim_{s\to 0}\frac1{1+G(s)H(s)}\\</script><p>可以定义静态误差系数为</p>
<script type="math/tex; mode=display">
K_p=\lim_{s\to0}G(s)H(s)=G(0)H(0)\\
\varepsilon_{\text{ss}}=\frac1{1+K_p}</script><p>对于$0$型而言</p>
<script type="math/tex; mode=display">
K_p=K\\ \varepsilon_{\text{ss}}=\frac1{1+K}</script><p>对于高于$\rm I$型的系统，分母$s\to 0$</p>
<script type="math/tex; mode=display">
K_p= \infty,\;\; \varepsilon_{\text{ss}}=0</script><h3 id="静态速度加速度误差系数"><a href="#静态速度加速度误差系数" class="headerlink" title="静态速度加速度误差系数"></a>静态速度加速度误差系数</h3><p>对于单位斜坡输入</p>
<script type="math/tex; mode=display">
\varepsilon_{\text{ss}}=\lim_{s\to 0}s\frac1{1+G(s)H(s)}\frac1{s^2}=\lim_{s\to 0}\frac1{sG(s)H(s)}
\\K_v=\lim_{s\to0}sG(s)H(s)\\
\varepsilon_{\text{ss}}=\frac1{K_v}</script><p>同理对于单位加速度输入，也有静态加速度系数</p>
<script type="math/tex; mode=display">
K_a=\lim_{s\to0}s^2G(s)H(s)\\
\varepsilon_{\text{ss}}=\frac1{K_a}</script><p>总结如下表</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">系统类别</th>
<th style="text-align:center">单位阶跃</th>
<th style="text-align:center">等速输入</th>
<th style="text-align:center">等加速输入</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0型系统</td>
<td style="text-align:center">$\frac1{1+K}$</td>
<td style="text-align:center">$\infty$</td>
<td style="text-align:center">$\infty$</td>
</tr>
<tr>
<td style="text-align:center">I型系统</td>
<td style="text-align:center">$0$</td>
<td style="text-align:center">$\frac1K$</td>
<td style="text-align:center">$\infty$</td>
</tr>
<tr>
<td style="text-align:center">II型系统</td>
<td style="text-align:center">$0$</td>
<td style="text-align:center">$0$</td>
<td style="text-align:center">$\frac1K$</td>
</tr>
</tbody>
</table>
</div>
<h2 id="干扰引起的误差"><a href="#干扰引起的误差" class="headerlink" title="干扰引起的误差"></a>干扰引起的误差</h2><p>忽略输入，只计算干扰</p>
<script type="math/tex; mode=display">
\varepsilon(s)=\frac{-G_2(s)H(s)}{1+G_2(s)G_1(s)H(s)}N(s)</script><p>之后可以用叠加原理计算总误差</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B/" itemprop="url">大三/控制系统数学模型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-11-18T16:21:54+08:00">
                2024-11-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="信号的表示"><a href="#信号的表示" class="headerlink" title="信号的表示"></a>信号的表示</h1><p>需要把$x_o(t)$用数学的方式表达</p>
<h2 id="单位阶跃信号"><a href="#单位阶跃信号" class="headerlink" title="单位阶跃信号"></a>单位阶跃信号</h2><script type="math/tex; mode=display">
u(t)=\left\{\begin{array}{l}1 \text { for } t \geq 0 \\ 0 \text { for } t<0\end{array}\right.</script><h2 id="单位脉冲信号"><a href="#单位脉冲信号" class="headerlink" title="单位脉冲信号"></a>单位脉冲信号</h2><p>奇异函数</p>
<script type="math/tex; mode=display">
\int_{-\infty}^{\infty} x(t) \delta(t) d t=x(0)=1</script><h2 id="三角信号"><a href="#三角信号" class="headerlink" title="三角信号"></a>三角信号</h2><script type="math/tex; mode=display">
x(t)=A \cos (\omega t+\theta) \quad  \quad y(t)=B \cos (\omega t+\phi)</script><h2 id="复指数信号"><a href="#复指数信号" class="headerlink" title="复指数信号"></a>复指数信号</h2><p>指数信号的因子是复数</p>
<script type="math/tex; mode=display">
x(t)=Ke^{st}</script><p>一个复指数信号可以分解为实部$\cos$和虚部$\sin$，满足</p>
<script type="math/tex; mode=display">
\left\{
\begin{array}{l}
e^{i\theta}=\cos \theta+i\sin\theta\\
e^{-i\theta}=\cos\theta-i\sin\theta
\end{array}
\right. ⇒ 
\left\{
\begin{array}{l}
\cos\theta=\frac{e^{i\theta}+e^{-i\theta}}{2}\\
\sin\theta=\frac{e^{i\theta}-e^{-i\theta}}{2i}
\end{array}
\right.</script><p>借助这个关系就能方便的对正弦信号进行升维到复数域，让信号理论更加优雅，便于分析</p>
<p>有重要的两个参数：振幅和相位，复数相乘，模相乘辐角相加</p>
<h1 id="系统的数学模型"><a href="#系统的数学模型" class="headerlink" title="系统的数学模型"></a>系统的数学模型</h1><p>对于单输入单输出的控制系统，我们用微分方程来描述</p>
<script type="math/tex; mode=display">
\begin{align}&a_0x_o^{(n)}(t)+a_1x_o^{(n-1)}(t)+\cdots+a_nx_o(t)\\ &=b_0x_i^{(n)}(t)+b_1x_i^{(n-1)}(t)+\cdots+b_nx_i(t)\end{align}</script><p>但解微分方程太过繁琐，引入复数后就可以用拉氏变换来简化</p>
<h2 id="拉氏变换"><a href="#拉氏变换" class="headerlink" title="拉氏变换"></a>拉氏变换</h2><script type="math/tex; mode=display">
X(s)=L[x(t)]=\int_0^\infty x(t)e^{-st}\text{d}t</script><p>由微分性质得到</p>
<script type="math/tex; mode=display">
L\left[\frac{\text d^n x}{\text dt^n}x(t)\right]=s^nX(s)-s^{n-1}x(0^+)-\cdots-x^{(n-1)}(0^+)</script><p>若零初始条件则有</p>
<script type="math/tex; mode=display">
\frac{\text d^n x}{\text dt^n}x(t)\Leftrightarrow s^nX(s)</script><p>这样方程就不含微分项，将微分方程变成了代数方程</p>
<h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><p>积分</p>
<script type="math/tex; mode=display">
\int\cdots\int x(t)(\text dt)^n\Leftrightarrow \frac{X(s)}{s^n}</script><p>时移</p>
<script type="math/tex; mode=display">
L[x(t-a)]=e^{-as}X(s)\\L[e^{-at}x(t)]=X(s+a)</script><p>初值定理</p>
<script type="math/tex; mode=display">
\lim_{t\to0^+}x(t)=\lim_{s\to\infty}sX(s)</script><p>终值定理</p>
<script type="math/tex; mode=display">
\lim_{t\to \infty}x(t)=\lim_{t\to 0}sX(s)</script><h2 id="拉氏反变换"><a href="#拉氏反变换" class="headerlink" title="拉氏反变换"></a>拉氏反变换</h2><p>求解出的频域信号需要转换回时域</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">$f(t)$</th>
<th style="text-align:center">$L[f(t)]$</th>
<th style="text-align:center">$f(t)$</th>
<th style="text-align:center">$L[f(t)]$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$1$</td>
<td style="text-align:center">$\frac1s$</td>
<td style="text-align:center">$t$</td>
<td style="text-align:center">$\frac{n!}{s^{n+1}}$</td>
</tr>
<tr>
<td style="text-align:center">$e^{at}$</td>
<td style="text-align:center">$\frac1{s-a}$</td>
<td style="text-align:center">$\sin\omega t$</td>
<td style="text-align:center">$\frac{\omega}{s^2+\omega^2}$</td>
</tr>
<tr>
<td style="text-align:center">$\cos\omega t$</td>
<td style="text-align:center">$\frac{s}{s^2+\omega^2}$</td>
<td style="text-align:center">$te^{-at}$</td>
<td style="text-align:center">$\frac1{(s+a)^2}$</td>
</tr>
</tbody>
</table>
</div>
<p>由分解定理，一般常见的有理分式</p>
<script type="math/tex; mode=display">
X(s)=\frac{b_0s^m+b_1s^{m-1}+\cdots +b_m}{s^n+a_1s^{n-1}+\cdots +a_n}</script><p>可以分解为不同单极点$(e^{-at})$的形式，和共轭复数极点$(\sin/ \cos)$</p>
<h1 id="传递函数"><a href="#传递函数" class="headerlink" title="传递函数"></a>传递函数</h1><p>根据上面的分析，我们可以将系统里面常见的组件抽象成频域里面的函数</p>
<script type="math/tex; mode=display">
G(s)=\frac{X_o(s)}{X_{i}(s)}</script><p>假设系统有极点，复零点$(s^2+w^2)$，极点，复极点，则传递函数可以写成</p>
<script type="math/tex; mode=display">
G(s)=\frac{\displaystyle K\prod_{i=1}^b(\tau_is+1)\prod_{l=1}^c(\tau_l^2s^2+2\zeta _l\tau_ls+1)}{\displaystyle s^v\prod_{j=1}^d(T_js+1)\prod_{k=1}^e(T_k^2s^2+2\zeta _kT_ks+1)}</script><p>可以看出有多种环节，如比例环节</p>
<p>所以分母系数$s$上面次数代表为$v$阶系统</p>
<h2 id="微分环节"><a href="#微分环节" class="headerlink" title="微分环节"></a>微分环节</h2><p>理想微分</p>
<script type="math/tex; mode=display">
x_o(t)=kx^\prime_i(t)
\\G(s)=ks</script><p>一阶微分</p>
<script type="math/tex; mode=display">
\tau s+1</script><p>二阶微分</p>
<script type="math/tex; mode=display">
\tau^2 s^2+2\xi\tau s+1</script><h2 id="惯性环节"><a href="#惯性环节" class="headerlink" title="惯性环节"></a>惯性环节</h2><p>阻尼</p>
<script type="math/tex; mode=display">
Tx^\prime_o(t)+x_o(t)=x_i(t)</script><p>故一阶惯性为</p>
<script type="math/tex; mode=display">
G(s)=\frac1{Ts+1}</script><p>二阶振荡</p>
<script type="math/tex; mode=display">
\frac1{T^2s^2+2\xi Ts+1}</script><p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9E%8B/image-20241118194645653.png" alt="image-20241118194645653" style="zoom: 33%;"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D/" itemprop="url">大三/控制系统介绍</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-11-18T16:02:19+08:00">
                2024-11-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="控制系统"><a href="#控制系统" class="headerlink" title="控制系统"></a>控制系统</h1><p>自动控制，就是在没有人为干预的条件下，使目标的某些物理量准确地按照预期变化</p>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><p><img src="/2024/11/18/%E5%A4%A7%E4%B8%89/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D/image-20241118160821027.png" alt="image-20241118160821027"></p>
<p>按照有没有反馈测量装置分为闭环系统和开环系统</p>
<p>例如简单的电机转速控制系统根据电压来控制转速，是开环</p>
<p>还分为模拟控制系统和数字控制系统；若保持恒定则为恒值调节系统，若变化则为随动系统。</p>
<p>可用线性微分方程描述的称为线性控制系统，反之为非线性系统。</p>
<h2 id="闭环控制"><a href="#闭环控制" class="headerlink" title="闭环控制"></a>闭环控制</h2><blockquote>
<p>执行元件 Actuator Device that provides motive power to the process<br>比较元件 Comparator Computes the difference between the desired and actual output<br>控制器 Controller Device that computes the control signal. Composed of comparator<br>and compensator<br>输出 Output The output of the system to be controlled<br>设备 Plant Combination of the actuator and the system under control<br>控制对象 Process System or device, whose output is to be controlled<br>参考输入 Reference input The desired output of the system. Also called set point or input</p>
<p>传感器 Sensor Device that detects and measures some physical effect and generates a<br>signal proportional to the effect<br>传递函数 Transfer function Ratio of the transforms of system output and input. That is,<br>the transform of the input multiplied by the transfer function is the output in the<br>transform domain</p>
</blockquote>
<p>还有放大元件，校正元件（反馈校正和串联校正）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/04/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/isaac%20sim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/04/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/isaac%20sim/" itemprop="url">大二/机器人/isaac sim</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-04-19T20:37:18+08:00">
                2024-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Api"><a href="#Api" class="headerlink" title="Api"></a>Api</h1><h3 id="World"><a href="#World" class="headerlink" title="World"></a>World</h3><p>World is the core class that enables you to interact with the simulator in an easy and modular way. It takes care of many time-related events such as adding callbacks, stepping physics, resetting the scene, adding tasks, etc. The World class is a Singleton which means ==only one World can exist== while running Omniverse Isaac Sim. Query the World for information about the simulation from different extensions.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> omni.isaac.examples.base_sample <span class="keyword">import</span> BaseSample <span class="comment">#boiler plate of a robotics extension application</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span><span class="params">(BaseSample)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># This function is called to setup the assets in the scene for the first time</span></span><br><span class="line">    <span class="comment"># Class variables should not be assigned here, since this function is not called</span></span><br><span class="line">    <span class="comment"># after a hot-reload, its only called to load the world starting from an EMPTY stage</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup_scene</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># A world is defined in the BaseSample, can be accessed everywhere EXCEPT __init__</span></span><br><span class="line">        world = self.get_world()</span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<h3 id="Dynamic-Control"><a href="#Dynamic-Control" class="headerlink" title="Dynamic Control"></a>Dynamic Control</h3><p>The Dynamic Control extension is a set of utilities to control physics objects. It provides opaque handles for different physics objects that remain valid between PhysX scene resets, which occur whenever play or stop is pressed.</p>
<p>用于运动控制</p>
<h3 id="Scene"><a href="#Scene" class="headerlink" title="Scene"></a>Scene</h3><p>A world contains an instance of a Scene, think about it as a scene management class that manages the assets of interest in the USD stage. It provides an easy api to add, manipulate and inspect different USD assets in the stage as well as setting its default reset states. Many of the object classes available which could be added to a Scene usually takes an already existing USD prim in stage or creates a new USD prim, thus providing an easy way to set/ get its common properties.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">world.scene.add_default_ground_plane() <span class="comment"># adds a default ground plane to the scene</span></span><br></pre></td></tr></table></figure>
<h3 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h3><p>The Task class in <code>omni.isaac.core</code> provides a way to ==modularize== the scene creation, information retrieval, calculating metrics and creating more complex scenes with more involved logic.</p>
<p>GPU并行仿真</p>
<h4 id="BaseTask"><a href="#BaseTask" class="headerlink" title="BaseTask"></a>BaseTask</h4><p>This class provides a way to set up a task in a scene and modularize adding objects to stage, getting observations needed for the behavioral layer, calculating metrics needed about the task, calling certain things pre-stepping, creating multiple tasks at the same time and much more.</p>
<h3 id="Articulation"><a href="#Articulation" class="headerlink" title="Articulation"></a>Articulation</h3><p>一堆关节构成</p>
<p>An articulated robot is ==a robot with rotary joints== (e.g: a legged robot, a manipulator or a wheeled robot). In <code>omni.isaac.core</code> extension in Omniverse Isaac Sim there exists an Articulation class which enables the interaction with articulations that exists in a USD stage in an easy way.</p>
<blockquote>
<p>Robots are constructed of physically accurate articulated joints.</p>
</blockquote>
<h4 id="ArticulationView"><a href="#ArticulationView" class="headerlink" title="ArticulationView"></a>ArticulationView</h4><p>High-level wrapper to deal with prims (==one or many==) that have the Root Articulation API applied and their attributes/properties</p>
<p>This class wraps all matching articulations found at the regex provided at the <code>prim_paths_expr</code> argument</p>
<p>匹配多个</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/" itemprop="url">大二/机器人/逆运动学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-03-08T11:51:30+08:00">
                2024-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="逆运动学"><a href="#逆运动学" class="headerlink" title="逆运动学"></a>逆运动学</h1><p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308121931856.png" alt="image-20240308121931856"></p>
<script type="math/tex; mode=display">
\rm DOF=3\quad(\theta_1,\theta_2,\theta_3)</script><p>所以可以控制三个关节的转角来使得机械臂末端$X_4$运动到</p>
<script type="math/tex; mode=display">
(x,y,\alpha)</script><p>求解过程</p>
<script type="math/tex; mode=display">
\begin{cases}X_{3x}=X_{4x}-L_3\cos\alpha\\X_{3y}=X_{4y}-L_3\sin\alpha\end{cases}</script><p>利用余弦定理求解$\theta_1,\theta_2$</p>
<p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308122148220.png" alt="image-20240308122148220" style="zoom:33%;"></p>
<script type="math/tex; mode=display">
\theta_1=\beta\pm\gamma\\
\tan\beta=\frac{X_{3y}}{X_{3x}}</script><p>在三角形内使用余弦定理</p>
<script type="math/tex; mode=display">
\cos\theta_2=\frac{(X_{3y}^2+X_{3x}^2)-L_1^2-L_2^2}{2L_1L_2}\\
\cos\gamma=\frac{(X_{3y}^2+X_{3x}^2)+L_1^2-L_2^2}{2L_1\sqrt{X_{3y}^2+X_{3x}^2}}</script><p>所以</p>
<script type="math/tex; mode=display">
\theta_3=\alpha-\theta_2-\theta_2</script><p>由于自由度受限，故空间内机械臂规划只考虑</p>
<p>$\alpha=90^\circ$，即垂直抓取的情况，考虑俯视图</p>
<p>砖块处在相对$X_0$，$(x,y)$的位置，位姿为$\theta$</p>
<p>云台转角为$\theta_0$，夹爪的转角为$\theta_4$</p>
<p><img src="/2024/03/08/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E4%BA%BA/%E9%80%86%E8%BF%90%E5%8A%A8%E5%AD%A6/image-20240308123949922.png" alt="image-20240308123949922" style="zoom: 25%;"></p>
<script type="math/tex; mode=display">
\sqrt{x^2+y^2}=X_{4x}\\
\tan\theta_0=\frac {x}{y}\\
\theta=\theta_0+\theta_4</script><p>通过这些方程可以求解出$\theta_0,\theta_1,\theta_2,\theta_3,\theta_4$</p>
<p>再通过$\theta_5$控制夹爪的张开与夹紧就可实现完整的抓取</p>
<h1 id="轨迹生成"><a href="#轨迹生成" class="headerlink" title="轨迹生成"></a>轨迹生成</h1><p>贝塞尔曲线具有良好的空间连续性,采用空间贝塞尔曲线的路径,不仅可有效增加空间曲线的平滑性并可通过更改控制点修改局部速度及加速度值,同时可通过控制点修改曲线形状,并且具有较高的计算效率。</p>
<p>Bernstein基函数</p>
<script type="math/tex; mode=display">
B_i^{(n)}(t)={n\choose i}t^i(1-t)^{n-i}</script><p>Bezier曲线的表达式</p>
<script type="math/tex; mode=display">
f(t)=\sum_{i=1}^nb_i(t)\boldsymbol{p}_i</script><p>在计算机图形学常用De Casteljau来对贝塞尔曲线进行求值</p>
<p>算法利用如下递归表达式来实现</p>
<script type="math/tex; mode=display">
\boldsymbol{b}_i^{(r)}=(1-t)\boldsymbol{b}_i^{(r-1)}+t\boldsymbol{b}_{i+1}^{(r-1)}</script><p>轨迹设计</p>
<p>由于我们需要将砖块一块一块砌筑，并且需要保证尽可能垂直向下放置砖块，从而能利用榫卯结构让两砖块之间能够贴合且不发生碰撞，所以为简单起见采用三个点作为控制顶点，分别是机械臂末端起点，终点，和终点正上方$d$处的控制点，利用贝塞尔曲线的端点性质，保证接近终点时速度一定垂直向下。</p>
<p>由于对于轨迹上的任意一点$(x,y,z,\alpha)$，我们需要确定$\alpha$的取值使得和机械臂的四个关节角度$(\theta_0,\theta_1,\theta_2,\theta_3)$一一对应从而求解，我们采用一种启发式的方式来设定$\alpha_t$，设当前进度为$t,t\in[0,1]$，则</p>
<script type="math/tex; mode=display">
\alpha_t=t\alpha_e+(1-t)\alpha_0</script><p>再利用搜索的方式找到离$\alpha_t$最近且使得逆运动学有解的$\alpha$，从而求解四个关节角度。</p>
<p>由于当关节角度$\theta=0$时，存在奇异点，末端执行器的一点微小变化会导致机械臂角度剧烈变化，产生震荡，所以在保证终点处不会存在角度为$0$后，我们可以对求解出角度小于某个设定阈值的部分不采用这段轨迹，并对关节角度利用线性插值的方式来生成新轨迹，使得轨迹更加稳定。</p>
<p>但由于局部突然用线性插值来替代，导致轨迹不够平滑，衔接处加速度过大，所以采用Savitzky-Golay滤波对新轨迹进行平滑，从而得到更加自然，加速度更小的轨迹</p>
<p>we need to lay bricks one by one and ensure that they are placed as vertically as possible to utilize the mortise and tenon structure to ensure that the bricks can fit together without colliding, three points are chosen as control vertices for simplicity. These points are the starting point of the robotic arm end effector, the endpoint, and a control point $d$ directly above the endpoint. Using the endpoint property of the Bézier curve, it ensures that the speed is strictly vertical as it approaches the endpoint.</p>
<p>For any point $(x, y, z, \alpha)$ on the trajectory, we need to determine the value of $\alpha$ so that it corresponds to the four joint angles $(\theta_0, \theta_1, \theta_2, \theta_3)$ of the robotic arm. We use a heuristic method to set $\alpha_t$. Let the current progress be $t, t \in [0, 1]$, then</p>
<script type="math/tex; mode=display">
\alpha_t=t\alpha_e+(1-t)\alpha_0</script><p>Then, by searching for the closest $\alpha$ to $\alpha_t$ that allows for solvable inverse kinematics, the four joint angles can be solved.</p>
<p>Since there are singular points when the joint angle $\theta = 0$, a slight change in the end effector will cause drastic changes in the angles of the robotic arm, resulting in oscillations. Therefore, after ensuring that there are no angles equal to $0$ at the endpoint, we can discard the portion of the trajectory where the angles are less than a certain threshold and use linear interpolation for the joint angles to generate a new trajectory, making the trajectory more stable.</p>
<p>However, abruptly replacing parts of the trajectory with linear interpolation makes it less smooth, with excessive acceleration at the junctions. Hence, we use Savitzky-Golay filtering to smooth the new trajectory, resulting in a more natural trajectory with lower acceleration.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/" itemprop="url">大二/机器学习/Transformer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-19T11:16:55+08:00">
                2024-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网络整体架构"><a href="#网络整体架构" class="headerlink" title="网络整体架构"></a>网络整体架构</h1><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119112445496.png" alt="image-20240119112445496"></p>
<h2 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h2><h3 id="注意力机制"><a href="#注意力机制" class="headerlink" title="注意力机制"></a>注意力机制</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119112615620.png" alt="image-20240119112615620"></p>
<script type="math/tex; mode=display">
\text{Attention(}Q,K,V)=\text{softmax}\left(\frac{QK^T}{\sqrt{d_k}}\right)V\\
Q(n\times d_k),K(m,d_k),V(m,d_v)</script><p>何为自注意力，就是输入为自己</p>
<p>利用$FC$层编码信息后</p>
<script type="math/tex; mode=display">
v^i=W^va^i\\
k^i=W^ka^i\\
q^i=W^qa^i</script><p>利用余弦相似度进行判断</p>
<p>利用$\text{softmax}$得到概率分布，最后得到输出</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119113118185.png" alt="image-20240119113118185"></p>
<p>输出为类似加权平均的形式，是$Q$的编码结果</p>
<p>其中$W$为权重矩阵，通过训练得出</p>
<h3 id="多头"><a href="#多头" class="headerlink" title="多头"></a>多头</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119113628698.png" alt="image-20240119113628698"></p>
<p>相关性也有不同的种类</p>
<p>利用$FC$将数据进行特征分离，并行$h$头</p>
<h3 id="位置编码"><a href="#位置编码" class="headerlink" title="位置编码"></a>位置编码</h3><p>为了学习序列的位置信息，使用位置向量$e^i$</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119120825747-1705639072346.png" alt="image-20240119120825747"></p>
<script type="math/tex; mode=display">
PE(pos,2i)=\sin(pos/10000^{2i/d_{\text{model}}})</script><p>手工设定，或者直接学习</p>
<h3 id="Layer-Norm"><a href="#Layer-Norm" class="headerlink" title="Layer Norm"></a>Layer Norm</h3><p>对不同的特征计算</p>
<script type="math/tex; mode=display">
x'_i=\frac{x_i-m}\sigma</script><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119122333051-1705639072346.png" alt="image-20240119122333051"></p>
<p>常常对最后一个维度进行，对多头即为</p>
<script type="math/tex; mode=display">
d_{\text{model}}/h</script><h3 id="残差连接"><a href="#残差连接" class="headerlink" title="残差连接"></a>残差连接</h3><script type="math/tex; mode=display">
x_{l+1}=x_l+F(x_l,W_l)</script><p>训练的过程中<strong>始终保留了原始信息</strong>，还增加了网络中获取的<strong>新知识</strong></p>
<p>$F(x_l,W_l)$为残差</p>
<p>由损失函数的梯度计算结果可知，网络在进行反向传播时，<strong>错误信号可以不经过任何中间权重矩阵变换直接传播到低层，一定程度上可以缓解梯度弥散(梯度消失)问题（即便中间层矩阵权重很小，梯度也基本不会消失）</strong></p>
<p>其中前馈层为</p>
<script type="math/tex; mode=display">
\text{FFN}(x)=\max(0,xW_1+b_1)W_2+b_2</script><p>这个前馈层的作用是引入非线性映射$(\rm ReLU)$，通过两个线性变换和激活函数，对输入进行复杂的非线性变换。这有助于模型学习更加复杂的函数关系。在 Transformer 模型中，每个位置都有独立的前馈层，这使得模型能够在不同位置学习不同的表示。</p>
<h2 id="decoder"><a href="#decoder" class="headerlink" title="decoder"></a>decoder</h2><p>将<strong>Encoder</strong>编码的信息进行解码转换</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119123351071-1705639072347.png" alt="image-20240119123351071"></p>
<p>输入用$\text{One Hot}$进行编码，向量大小为输出集的大小</p>
<h3 id="Masked自注意力"><a href="#Masked自注意力" class="headerlink" title="Masked自注意力"></a>Masked自注意力</h3><p>只把过去的output来作为$\text{keys,values}$</p>
<p>训练时每次把未来的输入$\rm Mask$一下</p>
<p>每次只query$t$时刻的输出，同时decoder放入$1\sim t$的输出</p>
<p>从而得到$t+1$时刻的输出</p>
<p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119132440053.png" alt="image-20240119132440053" style="zoom:67%;"></p>
<h3 id="cross-attention"><a href="#cross-attention" class="headerlink" title="cross-attention"></a>cross-attention</h3><p><img src="/2024/01/19/%E5%A4%A7%E4%BA%8C/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Transformer/image-20240119140756520.png" alt="image-20240119140756520"></p>
<p>$K,V$来自Encoder而$Q$来自Decoder</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/" itemprop="url">大二/材料力学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-15T14:50:19+08:00">
                2024-01-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115145258900.png" alt="image-20240115145258900"></p>
<h2 id="应力应变"><a href="#应力应变" class="headerlink" title="应力应变"></a>应力应变</h2><script type="math/tex; mode=display">
\sigma=\frac F A\\
\varepsilon=\lim_{l\to 0}\frac{\Delta l
}l\\
\gamma=\lim_{l\to 0}\frac{\Delta \gamma
}\gamma</script><p>胡克定律</p>
<script type="math/tex; mode=display">
\sigma=E\varepsilon\\
\tau=G\gamma</script><p>关系，泊松比$\nu$</p>
<p>只在一个方向有线应变有横向变形效应</p>
<script type="math/tex; mode=display">
\sigma_y=-\nu\sigma_x\\G=\frac E{2(1+\nu)}</script><p> 广义胡克定律</p>
<script type="math/tex; mode=display">
\varepsilon_x=\frac1E[\sigma_x-\nu(\sigma_y+\sigma_z)]</script><p>特别的，对于平面应力状态，有</p>
<script type="math/tex; mode=display">
\varepsilon_\theta=\frac1E[\sigma_\theta-\nu\sigma_{(\theta\pm90^\circ)}]</script><h2 id="许用应力"><a href="#许用应力" class="headerlink" title="许用应力"></a>许用应力</h2><p>衡量材料力学性能的指标</p>
<script type="math/tex; mode=display">
[\sigma]=\begin{cases}\frac{\sigma_s}{n_s}或\frac{\sigma_{0.2}}{n_s}\quad 塑性\\
\frac{\sigma_{b}}{n_b}\quad 脆性\end{cases}</script><h1 id="剪切"><a href="#剪切" class="headerlink" title="剪切"></a>剪切</h1><h2 id="单剪"><a href="#单剪" class="headerlink" title="单剪"></a>单剪</h2><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151105462.png" alt="image-20240115151105462"></p>
<script type="math/tex; mode=display">
V=F</script><h2 id="双剪"><a href="#双剪" class="headerlink" title="双剪"></a>双剪</h2><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151531211.png" alt="image-20240115151531211"></p>
<p>同时存在挤压</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115151752797.png" alt="image-20240115151752797"></p>
<p>计算切和压只需要判断力和面积</p>
<p>剪切：剪力对应接触面积</p>
<p>挤压：压力对应正交面积</p>
<h1 id="扭转"><a href="#扭转" class="headerlink" title="扭转"></a>扭转</h1><p>截面上的扭转</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115152232641.png" alt="image-20240115152232641"></p>
<p>切应力</p>
<script type="math/tex; mode=display">
\tau=\frac{T\rho}{I_p}</script><p> 其中$I_p$为截面的极惯性矩</p>
<p>对于圆</p>
<script type="math/tex; mode=display">
I_p=\frac{\pi D^4}{32}</script><p>空心</p>
<script type="math/tex; mode=display">
I_p=\frac{\pi D^4}{32}\left(1-\alpha^4\right)</script><p>对于半径处(表面)，截面系数为</p>
<script type="math/tex; mode=display">
W_p=\frac{I_p}{D/2}</script><p>单位长度扭转角</p>
<script type="math/tex; mode=display">
\frac{\text d\varphi}{\text d x}=\theta=\frac{T}{GI_p}</script><p>单位为弧度，要转角度，则</p>
<script type="math/tex; mode=display">
\varphi_{AB}=\frac{Tl_{AB}}{GI_p}\times\frac{180}\pi</script><h2 id="安全条件"><a href="#安全条件" class="headerlink" title="安全条件"></a>安全条件</h2><p>强度条件</p>
<script type="math/tex; mode=display">
\tau_{\max}=\frac{T}{W_{p}}\le[\tau]</script><p>刚度条件</p>
<script type="math/tex; mode=display">
\frac{T}{GI_p}\times\frac{180}\pi\le[\theta]</script><p>计算时画出扭矩图</p>
<h1 id="弯曲"><a href="#弯曲" class="headerlink" title="弯曲"></a>弯曲</h1><p>简支梁</p>
<p>两端分别为固定铰支座和活动铰支座</p>
<p>悬臂梁</p>
<p>一端为固定端一端为自由端</p>
<p>外伸梁</p>
<p>至少有一个铰支座不在梁端部</p>
<h2 id="剪力弯矩"><a href="#剪力弯矩" class="headerlink" title="剪力弯矩"></a>剪力弯矩</h2><p>利用力的平衡可以得到剪力和弯矩</p>
<p>同时注意剪力以顺时针为正</p>
<p>弯矩以凹为正，同时弯矩图画在拉的那一侧(朝下)</p>
<p>需要标明正负</p>
<script type="math/tex; mode=display">
\frac{\text dF_s}{\text d x}=q\\
\frac{\text dM}{\text d x}=F_s</script><h2 id="弯曲正应力"><a href="#弯曲正应力" class="headerlink" title="弯曲正应力"></a>弯曲正应力</h2><p>中性层为基准</p>
<script type="math/tex; mode=display">
\sigma=\frac{M_z y}{I_z}</script><p>正应力随高度呈线性变化，正比弯矩，反比于形心主惯性矩，两侧正应力一拉一压，总是同时存在</p>
<p>惯性矩计算</p>
<p>对矩形截面</p>
<script type="math/tex; mode=display">
I_z=\frac{bh^3}{12}</script><p>空心圆形</p>
<script type="math/tex; mode=display">
I_z=\frac{\pi D^4}{64}(1-\alpha^4)</script><p>同时利用对称性来计算</p>
<p>四矩式</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115160642130.png" alt="image-20240115160642130"></p>
<h2 id="切应力"><a href="#切应力" class="headerlink" title="切应力"></a>切应力</h2><script type="math/tex; mode=display">
\tau=\frac{F_sS_z^*(y)}{bI_z}</script><p>其中$S_z^*(y)$为静矩</p>
<script type="math/tex; mode=display">
S_z^*(y)=S_{y}y_c</script><p>利用形心来计算，$b$为厚度</p>
<p>掌握计算校核设计截面的方法，分析危险截面</p>
<h1 id="梁的变形"><a href="#梁的变形" class="headerlink" title="梁的变形"></a>梁的变形</h1><p>挠度$y$，为相对的位置变化</p>
<script type="math/tex; mode=display">
y'(x)=\tan\theta</script><p>则利用微分方程得到</p>
<script type="math/tex; mode=display">
EIy''=-M(x)</script><p>进行积分，带入边界条件尽可能早的确定常数</p>
<p>如固定端$\theta,y=0$，铰链左右转角相等  等等</p>
<p>利用叠加法首先将所有的载荷等效到一段</p>
<p>用相差一个刚体位移的方法进行计算</p>
<p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240116150852591.png" alt="image-20240116150852591"></p>
<h1 id="应力状态分析"><a href="#应力状态分析" class="headerlink" title="应力状态分析"></a>应力状态分析</h1><p><img src="/2024/01/15/%E5%A4%A7%E4%BA%8C/%E6%9D%90%E6%96%99%E5%8A%9B%E5%AD%A6/image-20240115162700013.png" alt="image-20240115162700013" style="zoom:50%;"></p>
<p>正应力以拉为正，压为负</p>
<p>切应力以外法线顺时针旋转</p>
<p>对任意角度，有</p>
<script type="math/tex; mode=display">
\sigma_\alpha=\frac{\sigma_x+\sigma_y}2+\frac{\sigma_x-\sigma_y}2\cos2\alpha-\tau_x\sin2\alpha\\
\tau_\alpha=\frac{\sigma_x-\sigma_y}2\sin2\alpha+\tau_x\cos2\alpha</script><p>则有</p>
<script type="math/tex; mode=display">
\sigma_{\theta+90^\circ}+\sigma_\theta=\sigma_x+\sigma_y</script><p>相互垂直截面上的正应力之和为常数</p>
<h2 id="主平面"><a href="#主平面" class="headerlink" title="主平面"></a>主平面</h2><script type="math/tex; mode=display">
\tan2\alpha_0=-\frac{2\tau_x}{\sigma_x-\sigma_y}</script><p> 可画出应力圆求解</p>
<script type="math/tex; mode=display">
(\sigma_x,\tau_x),(\sigma_y,\tau_y)</script><p>对于切应力极值，与主平面呈45度角，此时正应力为</p>
<script type="math/tex; mode=display">
\sigma_O=\frac{\sigma_x+\sigma_y}2\\
R=\sqrt{\left(\frac{\sigma_x-\sigma_y}2\right)^2+\tau_x^2}</script><p>对于空间应力，$\sigma_z\ne0,\tau_z=0$</p>
<p>所以$z$已经是主平面，求处另外两个主应力，画在一起</p>
<p>为三向应力圆</p>
<h2 id="强度理论"><a href="#强度理论" class="headerlink" title="强度理论"></a>强度理论</h2><p>主应力按照从大到小的顺序排列后</p>
<script type="math/tex; mode=display">
\sigma_1,\sigma_2,\sigma_3</script><p>四个强度理论</p>
<script type="math/tex; mode=display">
\sigma_{r1}=\sigma_1\\
\sigma_{r2}=\sigma_1-\nu(\sigma_2+\sigma_3)\\
\sigma_{r3}=\sigma_1-\sigma_3\\
\sigma_{\mathrm{r4}}=\sqrt{\frac{1}{2}[(\sigma_{1}-\sigma_{2})^{2}+(\sigma_{2}-\sigma_{3})^{2}+(\sigma_{3}-\sigma_{1})^{2}]}</script><p>还有莫尔强度理论</p>
<script type="math/tex; mode=display">
\sigma_{r3}=\sigma_1-\frac{[\sigma_t
]}{[\sigma_c]}\sigma_3</script><p>特别的，对于单向</p>
<script type="math/tex; mode=display">
\sigma_{\mathrm{r3}}=\sqrt{\sigma^2+4\tau^2}\\
\sigma_{\mathrm{r4}}=\sqrt{\sigma^2+3\tau^2}</script><p>更特别的</p>
<script type="math/tex; mode=display">
\sigma_{r3}=\frac{\sqrt{M^2+T^2}}{W_z}\\ \sigma_{r4}=\frac{\sqrt{M^2+0.75T^2}}{W_z}</script><p>切应力主要为扭矩产生，正应力主要为弯矩产生</p>
<h1 id="组合变形"><a href="#组合变形" class="headerlink" title="组合变形"></a>组合变形</h1><p>分别在$x,y$方向上画弯矩图</p>
<p>计算最大应力时，分解后叠加</p>
<script type="math/tex; mode=display">
\sigma_{\max}=\frac{M_{y\max}}{W_y}+\frac{M_{z\max}}{W_z}\le[\sigma]</script><p>注意$M_y$为$F_z$产生</p>
<p>同理挠度也叠加</p>
<script type="math/tex; mode=display">
f=\sqrt{f_x^2+f_y^2}</script><h2 id="偏心压缩"><a href="#偏心压缩" class="headerlink" title="偏心压缩"></a>偏心压缩</h2><p>将心的力$F_2$等效成</p>
<script type="math/tex; mode=display">
Fe+F</script><p>转换成一个正应力和弯矩</p>
<h1 id="压杆稳定性"><a href="#压杆稳定性" class="headerlink" title="压杆稳定性"></a>压杆稳定性</h1><p>对于不同支承条件，长度系数不同</p>
<p>如果两端铰支，都可以转动(角度任意变化)</p>
<p>或者两端固定另一端可以横向移动</p>
<script type="math/tex; mode=display">
\mu=1</script><p>若一端自由另一端固定</p>
<script type="math/tex; mode=display">
\mu=2</script><p>两端固定</p>
<script type="math/tex; mode=display">
\mu=0.5</script><p>一端固定，一端铰支</p>
<script type="math/tex; mode=display">
\mu=0.7</script><p>所以临界压力</p>
<script type="math/tex; mode=display">
F_{cr}=\frac{\pi^2EI}{(\mu l)^2}</script><p>引入柔度的概念</p>
<script type="math/tex; mode=display">
\lambda=\frac{\mu l}i</script><p>其中$i=\sqrt{\frac {I_z}{A}}$，截面对失稳弯曲时的中性轴的惯性半径</p>
<p>所以临界应力公式为</p>
<script type="math/tex; mode=display">
\sigma_{\mathrm{cr}}=\frac{\pi^2 E}{\lambda^2}\le \sigma_p</script><p>则柔度需要满足</p>
<script type="math/tex; mode=display">
\lambda\ge\sqrt{\frac{\pi^2E}{\sigma_p}}</script><p>对于铸铁$\rm Q235$</p>
<script type="math/tex; mode=display">
\lambda_p=100</script><p>对于中长杆，可以使用经验公式</p>
<script type="math/tex; mode=display">
\sigma_{\rm cr}=a_1-b_1\lambda</script><p>或者</p>
<script type="math/tex; mode=display">
\sigma_{\rm cr}=a_1-b_1\lambda^2</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%9B%B8%E4%BC%BC%E7%9F%A9%E9%98%B5%E4%BA%8C%E6%AC%A1%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shiwei Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mount.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2024/01/03/%E5%A4%A7%E4%B8%80/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/%E7%9B%B8%E4%BC%BC%E7%9F%A9%E9%98%B5%E4%BA%8C%E6%AC%A1%E5%9E%8B/" itemprop="url">大一/线性代数/相似矩阵二次型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2024-01-03T23:19:01+08:00">
                2024-01-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="相似矩阵"><a href="#相似矩阵" class="headerlink" title="相似矩阵"></a>相似矩阵</h1><h2 id="施密特正交化"><a href="#施密特正交化" class="headerlink" title="施密特正交化"></a>施密特正交化</h2><script type="math/tex; mode=display">
\beta_4=\alpha_4-\frac{(\beta_1,\alpha_4)}{(\beta_1,\beta_1)}\beta_1-\frac{(\beta_2,\alpha_4)}{(\beta_2,\beta_2)}\beta_2-\frac{(\beta_3,\alpha_4)}{(\beta_3,\beta_3)}\beta_3</script><p>将向量向其他基向量上进行投影并减去分量</p>
<p>最后再单位化即得到标准正交基</p>
<h2 id="特征值和向量"><a href="#特征值和向量" class="headerlink" title="特征值和向量"></a>特征值和向量</h2><script type="math/tex; mode=display">
Ax=\lambda x\\
|A-\lambda E|=0</script><p>求解行列式为零得到对应的特征方程，即可求出特征值再把特征值代入可求得特征向量</p>
<p>如果特征值各不相同则特征向量线性无关</p>
<p>若矩阵满足矩阵方程</p>
<script type="math/tex; mode=display">
f(A)=0</script><p>则它的特征向量也满足</p>
<script type="math/tex; mode=display">
f(\lambda)=0</script><p>同理</p>
<script type="math/tex; mode=display">
f(A)-kE\to f(\lambda)-k</script><h3 id="特殊"><a href="#特殊" class="headerlink" title="特殊"></a>特殊</h3><p>逆矩阵的特征值为倒数，特征向量一样</p>
<p>伴随矩阵特征向量也一样特征值为</p>
<script type="math/tex; mode=display">
Ax=\lambda x\\
\frac 1\lambda x=A^{-1}x\\
A^*x=\frac{|A|}{\lambda}x</script><h2 id="相似"><a href="#相似" class="headerlink" title="相似"></a>相似</h2><p>满足</p>
<script type="math/tex; mode=display">
P^{-1}AP=B</script><p>相似矩阵的特征多项式相同特征值也相同</p>
<p>若$A$为对角矩阵则</p>
<script type="math/tex; mode=display">
A=P^{-1}\Lambda P=\begin{bmatrix}\lambda_1&&&\\&\lambda_2&&\\&&...&\\&&&\lambda_n\end{bmatrix}</script><p>对称矩阵的特征值为实数，且一定可以对角化，任意两个不相等的特征值对应的特征向量一定正交</p>
<p>矩阵$P$可通过对特征向量组进行标准正交化得到</p>
<h2 id="重数"><a href="#重数" class="headerlink" title="重数"></a>重数</h2><p>代数重数为$(\lambda-\lambda_i)^m$，几何重数为<strong>特征向量生成线性空间的维数</strong></p>
<p>几何重数$\le$代数重数</p>
<script type="math/tex; mode=display">
1\le n-R(A-\lambda E)\le m</script><p>可对角化则代数重数等于几何重数，即矩阵$P$满秩，特征向量足够</p>
<h1 id="二次型"><a href="#二次型" class="headerlink" title="二次型"></a>二次型</h1><script type="math/tex; mode=display">
f(x_1,\cdots,x_n)=a_{11}x_1^2+\cdots+2a_{12}x_1x_2+\cdots</script><p>化为对称矩阵来表示</p>
<script type="math/tex; mode=display">
\left.X=\left(\begin{array}{c}x_{1}\\x_{2}\\\vdots\\x_{n}\end{array}\right.\right),A=\begin{pmatrix}a_{11}&a_{12}&\cdots&a_{1n}\\a_{21}&a_{22}&\cdots&a_{2n}\\&\cdots&\cdots&\\a_{n1}&a_{n2}&\cdots&a_{nn}\end{pmatrix},a_{ij}=a_{ji},</script><p>可逆变换</p>
<script type="math/tex; mode=display">
x=Cy</script><script type="math/tex; mode=display">
f=x^TAx=y^T(C^TAC)y</script><p>则如果有可逆矩阵，使得</p>
<script type="math/tex; mode=display">
B=C^TAC</script><p>则合同</p>
<h2 id="标准型"><a href="#标准型" class="headerlink" title="标准型"></a>标准型</h2><p>只有平方项</p>
<script type="math/tex; mode=display">
f=\lambda_1y_1^2+\cdots+\lambda_ny_n^2</script><p>正交变化则和化对角一样</p>
<script type="math/tex; mode=display">
P^T=P^{-1}</script><h2 id="正定"><a href="#正定" class="headerlink" title="正定"></a>正定</h2><p>实对称矩阵$AB=BA=(AB)^T$才讨论正定</p>
<p>二次型恒大于0，<strong>正特征值的个数</strong>就是正惯性指数，则正定为</p>
<ul>
<li>正惯性指数$p=n$</li>
<li>n个$\lambda&gt;0$</li>
<li>A合同与$E\quad(f=y^Ty)$</li>
</ul>
<h3 id="推论"><a href="#推论" class="headerlink" title="推论"></a>推论</h3><p>看$\lambda$正负</p>
<p>$A+B$正定，$BAB$正定，$A^{-1},A^*,A^m,kA$正定</p>
<p>若$AB=BA$则</p>
<script type="math/tex; mode=display">
AB,BA正定</script><h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>只有对称矩阵，相似一定合同(因为正交相似)</p>
<p>对称矩阵可对角化，代数重数=几何重数则可对角化</p>
<p>等价$\Leftrightarrow$秩相等</p>
<p>$A\Leftrightarrow B$则对应的齐次线性方程组同解</p>
<p>$R(A)=R(AA^T)$</p>
<p>像空间的维数用矩阵表示的秩$r$来算</p>
<p>核空间的维数$n-r$</p>
<p>秩一矩阵，各行成比例，则$A=\alpha\beta^T$</p>
<p>则唯一非零秩为$\text{tr}(A)=\beta^T\alpha$</p>
<p>可对角化则$\beta^T\alpha\ne0$</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/mount.png"
               alt="Shiwei Pan" />
          <p class="site-author-name" itemprop="name">Shiwei Pan</p>
           
              <p class="site-description motion-element" itemprop="description">Open your eyes,look up to the skies</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">100</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/erikpsw" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/erik-pan-7b88a4190/" target="_blank" title="LinkedIn">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                    
                      LinkedIn
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2020 - 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shiwei Pan</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
